{"version":3,"sources":["img/toggle.svg","img/switch.svg","About.js","DashBoard.js","Metrics.js","DataEntry.js","FAQ.js","VisualizationsDashboard.js","Visualizations.js","SignIn.js","AdminPanelMetrics.js","AdminPanelUserPermissions.js","AdminPanelMetricCalcs.js","AdminDataEntry.js","AdminPanel.js","AdminSettings.js","ForgotPassword.js","CreateAccount.js","App.js","serviceWorker.js","index.js","img/shruti.png","img/alex.jpg","img/nathan.jpg","img/rani.jpg","img/development.png","img/policy.png","img/prevention.png","img/training.png","img/FAQ1.png","img/FAQ2.png","img/more.svg","img/cross.svg","img/tick.svg","img/metrics.svg","img/calculations.svg","img/data-collection.svg","img/team.svg","img/settings.svg","img/sightlife.png","img/profile2.png"],"names":["module","exports","About","class","id","className","href","CardDeck","Card","style","width","CardImg","top","src","Development","alt","CardBody","CardTitle","CardText","Policy","body","Prevention","Training","Nathan","url","height","Shruti","Alex","Rani","Component","DashBoard","props","year","Date","getFullYear","toString","state","currentYear","monthsYearsMap","Map","quartersYearsMap","annualsYearsMap","selectedYearMap","selectedQuarterMap","selectedAnnualMap","d3","remove","Array","from","this","metricAreaCalculations","entries","map","key","metrics","calcMetric","metricCalc","calcName","metricCalcID","calcID","yearFunc","handleYearChange","actual","target","dataType","actualFloat","parseFloat","targetFloat","console","log","monthArrayInfo","i","monthObj","parseInt","color","actualColor","month","coe","highlights","lowlights","datatype","length","data","margin","right","bottom","left","svg","append","attr","dataset","date","values","name","value","actualRange","d","targetRange","x0","domain","rangeRound","x1","bandwidth","y0","Math","max","nice","range","xAxis","yAxisLeft","tickFormat","call","text","select","selectAll","graph","enter","tip","tipText","join","on","pos","ele","legend","slice","ref","barChart","quarterArrayInfo","actualExists","targetExists","monthObjColor","actualsCounter","targetsCounter","monthObj1","monthObj2","monthObj3","round","quarter","undefined","months","actual_line","defined","isNaN","x","y","target_line","datum","div","transition","duration","html","pageX","pageY","filter","lineChart","annualArrayInfo","selectedYear","metricElements","arrayElements","monthElements","currentCalculation","monthArrayElements","quarterElements","quarterArrayElements","annualElements","annualsArrayElements","yearElements","onClick","e","goBack","metricAreaInfo","onChange","handleCalChange","disabled","selected","selectEnable","YearElement","MetricCalculationRow","MetricMonthly","num","actualValue","monthValue","Table","responsive","backgroundColor","MetricQuarterly","quarterValue","MetricAnnuals","Metrics","event","area","options","selectedIndex","field","getAttribute","currentCalc","currentCalcID","informationMonthRerender","informationQuarterRerender","informationAnnualRerender","informationMonth","informationQuarter","informationAnnuals","retrieveInfo","bind","metricAreaOwner","metricAreaCalculationIDs","dashboardEnabled","metricAreaElements","metricName","metricID","metricNameFunc","firebase","database","once","snapshot","metricCalcInfo","val","databaseKeys","Object","keys","mapCalculations","Mid","metricAreaID","set","setInfo","setState","path","rootPath","infoMap","info","selectedMonthMap","get","AnnualsYearsMap","preventDefault","renderYears","content","information","MetricAreaCard","Button","DataEntry","retrieveUsersMetricAreas","ownerMap","currentOwners","owners","user","userID","uid","setMetric","updateChange","updateSelectForm","updateACheckForm","updateTCheckForm","previewForm","editForm","submitForm","updateSelectedMetricAreaCalculation","check","timeDisplay","dataDisplay","currentMetricAreaCalculations","currentArchivedCalculations","selectedMetricAreaCalculations","metricAreaName","selectTF","actualEn","targetEn","preview","lowlight","highlight","mitigation","retrieveAdminUsers","checkCurrentDateActuals","checkCurrentDateTargets","adminPermissions","currentDay","getDate","checkActuals","checkActualEnabled","enableActuals","errorMsg","currentMonth","getMonth","checkTargetEnabled","enableTargets","canEditActuals","canEditTargets","metricActualEnabled","metricTargetEnabled","retrieveMetricAreaCalculations","calcArchived","setCalculations","calc","type","selectedMetricAreaCalculationName","selectedMetricAreaCalculationDataType","tfValue","timeObj","adminEnabled","checkIfLastYear","userP","radio","adminActualEn","actualDisabledMsg","targetDisabledMsg","changes","size","calculation","metricCalcName","metricCalcDataType","metricCalcFunc","t","errors","time","for","keyString","childPath","update","lastEdit","dataSubmitted","newMetricCalculation","noActual","currentTime","inputTime","updateRadioForm","metricFunc","metricAreaCalculationsElements","dataEntryForm","renderDataEntryForm","formContent","invalidMetricArea","invalidMetricCalc","MetricAreaButton","typeString","MetricAreaCalcButton","DataEntryForm","selectTf","timeDisplayType","selectTimeDisplay","checked","invalidRadio","invalidData","placeholder","FAQ","FAQ1","FAQ2","maxValue","formatComma","svgRender","svgRenderLine","Visualizations","SignIn","email","password","eVal","pVal","handleSignIn","updateEmail","required","updatePassword","to","AdminPanelMetrics","retrieveMetricsList","metricNameInfo","metricMap","handleChange","addRef","React","createRef","editMetricArea","closeModalE","retrieveMetricInfo","display","modalDisplay","archivedElements","retrieveArchivedMetricAreaElements","metricArchived","setArchivedMetricElements","currentmID","push","getKey","metricObject","MetricName","metricsMap","setMetricsMap","error","closeModal","currentmName","submitMetricInfo","mID","mName","editMetricName","form","addForm","renderModal","More","AdminPanelUserPermissions","setMetricOwnerInfo","editMetricOwners","addOwnerModal","cancelMetricOwners","setMetricOwner","removeMetricOwner","handleMAToggle","handleMTToggle","saveChanges","currentMetricA","currentMetricAOwners","ownersDisplay","retrieveCurrentUsers","fName","lName","userMap","mAE","mTE","objectMap","object","userInfoArray","userMetricID","userName","currentMetricID","enableEdit","firebaseUID","removedItem","item","usersInfo","delete","setMetricOwners","currentUserID","currentUserName","usersElements","userList","updateUser","submitOwnerModal","cancelOwnerModal","userArray","usersMap","users","saveAT","MetricAreaInfo","metricAreaOwners","owner","entryContent","buttonContent","uncheckedIcon","checkedIcon","ListGroup","MetricAreaOwner","button","UserItem","AdminPanelMetricCalcs","openModal","openArchiveModal","openAddModal","current","addModalDisplay","archivedModalDisplay","currentArchivedAreaCalculations","metricValue","checkAddCalculation","metricCalcObject","addCalcName","archivedMap","currentCalcName","currentArchivedCalc","checkAddOpenModal","editCalcName","closeAddModal","addCalculation","closeArchiveModal","unarchiveMetricCalc","submitEditInfo","archiveMetricCalc","metricAreaItemsList","metricAreaCalculationElements","archivedAreaCalculationElements","archivedAreaCalculations","archiveForm","archivedForm","updateME","MetricAreaItem","AdminDataEntry","falseMap","renderedMap","retrieveAllCalculations","metricCalculationFulfilled","lastMonth","calcMap","metricCalculationFalse","hasOwnProperty","lastMonthData","compareMap","key2","falseObject","enteredData","trueObject","monthVal","test","metricAreas","renderMetricAreas","MetricAreaComponent","Tick","Cross","AdminPanelNav","activeStyle","userPermissions","mCalculations","dataEntry","settings","AdminSettings","removeAdmin","handleAToggle","handleTToggle","currentAdmins","currentUsers","retrieveActualSettings","retrieveTargetSettings","adminName","adminID","setAdminUsers","admin","removedAdmin","adminExist","adminExists","closeForm","admins","forEach","usersList","addOwner","actualToggle","targetToggle","actualEnabled","targetEnabled","adminElements","renderAdminUsers","saveSettings","AdminItem","ForgotPassword","errorMessage","emailInput","err","handleForgotPassword","CreateAccount","complete","valid","renderFnameIssues","renderLnameIssues","renderEmailIssues","renderPasswordIssues","renderRePasswordIssues","checkSubmissions","handleSignUp","rpassword","fVal","lVal","rpVal","updateFname","updateLname","updateRePassword","submitAccount","disableSignInStatus","App","handleSignOut","auth","signOut","catch","message","window","location","fname","lname","createUserWithEmailAndPassword","then","currentUser","sendEmailVerification","errorCode","alert","signInWithEmailAndPassword","sendPasswordResetEmail","usersMetrics","retrieveMetricCalculations","metricCalculationID","changeSignInStatus","signInStatus","authUnSubFunction","onAuthStateChanged","firebaseUser","checkingLogin","verified","emailVerified","areas","verify","exact","render","component","retMetricCalculations","NavBar","activeClassName","fontWeight","Profile","SightLife","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Boolean","hostname","match","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aace9ddb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/toggle.cda0c0c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/switch.dc3ba285.svg\";","import './index.js';\r\nimport './css/About.css';\r\nimport React, { Component } from 'react';\r\nimport {Card, CardImg, CardText, CardBody, CardTitle, CardDeck, CardGroup } from 'reactstrap';\r\nimport { SocialIcon } from 'react-social-icons';\r\n\r\nimport Shruti from './img/shruti.png';\r\nimport Alex from './img/alex.jpg';\r\nimport Nathan from './img/nathan.jpg';\r\nimport Rani from './img/rani.jpg';\r\n\r\nimport Development from './img/development.png';\r\nimport Policy from './img/policy.png';\r\nimport Prevention from './img/prevention.png';\r\nimport Training from './img/training.png';\r\n\r\nexport class About extends Component {\r\n    render() {\r\n        return(\r\n        <div> \r\n            <section class = \"wave\">\r\n                <div id=\"title\" class=\"section-content\">\r\n                    <div>\r\n                        <h1>SightLife Global Scorecard</h1>\r\n                        <p class = \"intro\">\r\n                            An international operations scorecard for SightLife to track projects, programs and \r\n                            departments with a mission to eradicate corneal blindness by 2040\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section id=\"problem\">\r\n                <div class=\"section-content\">\r\n                    <h2 className = \"team\">The Problem</h2>\r\n                    <p class=\"problem\">\r\n                        Right now, in this instance, there are more than <strong>12.7 million people in the world </strong> that are needlessly suffering from corneal blindness. \r\n                        Corneal blindness is the scarring of the cornea caused by an injury or disease. Damage to the cornea is more common than we think, \r\n                        but with SightLife, those suffering may all be relieved by 2040. <strong> SightLifes main goal is to eliminate this life-damaging ailment </strong>. \r\n                    </p>\r\n\r\n                    <p class = \"problem\">\r\n                        But with their current system of organizing/visualizing data, it is a hindrance to their overall goal. \r\n                        This is why the global scorecard is a must-have. With this scorecard, it allows regional leads to have a platform where they can keep track of progress made \r\n                        tied to each region around the world where they are currently working to eradicate corneal blindness. \r\n                        This scorecard will provide visualizations that show trends over time, address different success metrics, \r\n                        and contain customizable dashboards for users from various departments\r\n                    </p>\r\n                </div>\r\n            </section>\r\n\r\n            <section>\r\n                <div class=\"section-content\">\r\n                    <div class=\"flex-container\">\r\n                        <div class=\"flex-item\">\r\n                            <h2 className = \"team\">Sponsor Information</h2>\r\n                            <p>\r\n                                This project is sponsored by SightLife, the only global health organization working relentlessly to eliminate corneal blindness worldwide. With\r\n                                partners in more than 30 countries, SightLife is increasing\r\n                                the number of corneal transplants performed each year to\r\n                                transform millions of lives around the globe.\r\n                            </p>\r\n\r\n                            <p class='learnMore'>\r\n                                <a href=\"https://www.sightlife.org/\">Learn more > </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section id=\"departments\">\r\n                <div class=\"section-content\">\r\n                    <h2 className = \"team\">\r\n                        Departments\r\n                    </h2>\r\n                    <CardDeck className=\"About\"> \r\n\r\n                    <Card className=\"Dep\" style={{ width: '18rem' }}>\r\n                        <CardImg top width=\"60%\" src={ Development } alt='Development' />\r\n                            <CardBody className=\"Departments\">\r\n                            <CardTitle> <h3> Eye Bank Development </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p> Bringing industry-leading best practices to eye banks worldwide. </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card className=\"Dep\" style={{ width: '18rem' }}>\r\n                        <CardImg top width=\"64%\" src={ Policy } alt='Policy' />\r\n                            <CardBody className=\"Departments\">\r\n                                <CardTitle body className=\"text-center\"> <h3> Advocacy & Policy  </h3> </CardTitle>\r\n                                <CardText>\r\n                                <p> Creating policies that allow for more access to corneal tissue. </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card className=\"Dep\" style={{ width: '18rem' }}>\r\n                        <CardImg  top width=\"70%\"src={ Prevention } alt='Prevention' />\r\n                            <CardBody className=\"Departments\">\r\n                                <CardTitle body className=\"text-center\"> <h3> Prevention </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p> Preventing blindness and strengthening health systems with a simple intervention.</p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card className=\"Dep\" style={{ width: '18rem' }}>\r\n                        <CardImg top width=\"64%\" src={ Training } alt='Training' />\r\n                            <CardBody className=\"Departments\">\r\n                                <CardTitle body className=\"text-center\"> <h3> Clinical Training </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p> Training trasplant surgeons and care providers worldwide. </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </CardDeck>\r\n                    </div>\r\n            </section>\r\n\r\n            <section id=\"contact\">\r\n                <div class=\"section-content\">\r\n                    <h2 className = \"team\">\r\n                        Team Members & Contact Info\r\n                    </h2>\r\n                    \r\n                    <CardDeck className=\"About\"> \r\n\r\n                    <Card style={{ width: '18rem' }}>\r\n                        <CardImg class=\"card-img-top img-fluid\" src={ Nathan } alt='Nathan' />\r\n                            <CardBody>\r\n                            <CardTitle> <h3> Nathan Magdalera <SocialIcon url=\"https://www.linkedin.com/in/nathanmagdalera/\" style={{ height: 30, width: 30 }}/> </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p className=\"About\"> Full-Stack Developer </p>\r\n                                    <p className=\"About\"> Cybersecurity </p>\r\n                                    <p className=\"About\"> nathanmagdalera </p>\r\n                                    <p className=\"About\"> @gmail.com </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card style={{ width: '18rem' }}>\r\n                        <CardImg class=\"card-img-top img-fluid\" src={ Shruti } alt='Shruti' />\r\n                            <CardBody>\r\n                                <CardTitle body className=\"text-center\"> <h3> Shruti Rajagopalan <SocialIcon url=\"https://www.linkedin.com/in/shrutira/\" style={{ height: 30, width: 30 }}/> </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p className=\"About\"> User Experience</p>\r\n                                    <p className=\"About\"> Project Management </p>\r\n                                    <p className=\"About\"> shrutirdesign </p>\r\n                                    <p className=\"About\"> @gmail.com </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card style={{ width: '18rem' }}>\r\n                        <CardImg class=\"card-img-top img-fluid\" src={ Alex } alt='Alex' />\r\n                            <CardBody>\r\n                                <CardTitle body className=\"text-center\"> <h3>  Alexander Escalera  <SocialIcon url=\"https://www.linkedin.com/in/alexander-escalera-503360176/\" style={{ height: 30, width: 30 }}/> </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p className=\"About\"> Back-End Developer</p>\r\n                                    <p className=\"About\"> User Experience </p>\r\n                                    <p className=\"About\"> alexander.e1918 </p>\r\n                                    <p className=\"About\"> @gmail.com </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n\r\n                        <Card style={{ width: '18rem' }}>\r\n                        <CardImg class=\"card-img-top img-fluid\" src={ Rani } alt='Rani' />\r\n                            <CardBody>\r\n                                <CardTitle body className=\"text-center\"> <h3> Rani Chang <SocialIcon url=\"https://www.linkedin.com/in/yungtc/\" style={{ height: 30, width: 30 }} /> </h3> </CardTitle>\r\n                                <CardText>\r\n                                    <p className=\"About\"> Data Science</p>\r\n                                    <p className=\"About\"> Front-End Developer </p>\r\n                                    <p className=\"About\"> yungtsye@gmail.com </p>\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </CardDeck>\r\n                </div>\r\n                <p className=\"para\"><b>This project is complete and ownership will be transferred to the (future) Global Operations Business Manager. In the meantime, ownership will be given to \r\n                    Nashrah Mazhar: Nashrah.Mazhar@sightlife.org. For pressing questions, feel free to contact any of the team members who worked on the project.</b></p>\r\n            </section>\r\n            <footer>\r\n                <div className=\"footer-container\">\r\n                    <p className=\"inSightful\"> \r\n                        This project is a part of the\r\n                    <a className=\"Data\" href=\"https://ischool.uw.edu/capstone\"> Capstone Project course at the University of Washington Information School </a></p>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Table, Button } from 'reactstrap';\r\n\r\nimport './index.js';\r\nimport './css/DashBoard.css';\r\nimport * as d3 from 'd3';\r\nimport firebase from 'firebase/app';\r\nimport { act } from 'react-dom/test-utils';\r\n\r\nexport class DashBoard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        let year = new Date()\r\n        year = year.getFullYear().toString()        \r\n        // this.handleYearChange = this.handleYearChange.bind(this)\r\n\r\n        this.state = {\r\n            currentYear: year,\r\n            monthsYearsMap: new Map(),\r\n            quartersYearsMap: new Map(),\r\n            annualsYearsMap: new Map(),\r\n            selectedYearMap: new Map(),\r\n            selectedQuarterMap: new Map(),\r\n            selectedAnnualMap: new Map()\r\n        }\r\n    }\r\n\r\n    // Do any information retrieval here\r\n    componentDidMount() {\r\n        d3.selectAll(\"svg\").remove();\r\n        d3.selectAll(\"div.tooltip\").remove();    \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        d3.selectAll(\"svg\").remove();\r\n        d3.selectAll(\"div.tooltip\").remove();\r\n    }\r\n\r\n    arrayElements() {\r\n        const test = Array.from(this.props.metricAreaCalculations.entries()).map((key) => {\r\n            //Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricCalculationRow\r\n                metrics={key[1].calcMetric}\r\n                metricCalc={key[1].calcName}\r\n                metricCalcID={key[1].calcID}\r\n            />\r\n        })\r\n        return test\r\n    }\r\n\r\n    yearElements() {\r\n        const test = Array.from(this.props.monthsYearsMap.entries()).map((key) => {\r\n             return <YearElement\r\n                year={key[0]}\r\n                yearFunc={this.props.handleYearChange} />\r\n        })\r\n        return test\r\n    }\r\n\r\n    // Determines the color of the actual field.\r\n    // If the actual is greater or equal to the target\r\n    // change color to green.\r\n    // If the actual is within 5% of the target, \r\n    // change color to orange.\r\n    // If the actual is neither of the above,\r\n    // change color to red. \r\n    actualColor(actual, target, dataType) {\r\n        let actualFloat = parseFloat(actual)\r\n        let targetFloat = parseFloat(target)\r\n        console.log(actual)\r\n        switch (dataType) {\r\n            case \"money\":\r\n            case \"number\":\r\n                if (actualFloat >= targetFloat) {\r\n                    return \"#50c53d\"\r\n                } else {\r\n                    let subtractNum = targetFloat * 0.05\r\n                    let marginNum = targetFloat - subtractNum\r\n                    if (actualFloat >= marginNum) {\r\n                        return \"#f9a354\"\r\n                    } else if (actualFloat < targetFloat - 5) {\r\n                        return \"#fe0000\"\r\n                    } else {\r\n                        return \"FFFFFF\"\r\n                    }\r\n                }\r\n            case \"percent\":\r\n                if (actualFloat >= targetFloat) {\r\n                    return \"#50c53d\"\r\n                } else {\r\n                    if (actualFloat >= targetFloat - 5) {\r\n                        return \"#f9a354\"\r\n                    } else if (actualFloat < targetFloat - 5) {\r\n                        return \"#fe0000\"\r\n                    } else {\r\n                        return \"FFFFFF\"\r\n                    }\r\n                }\r\n            case \"text\":\r\n                return \"#FFFFFF\"\r\n        }\r\n    }\r\n\r\n    // Renders information for months for\r\n    // the selected metric calculation and year\r\n    monthArrayElements() {\r\n        const monthArrayInfo = []\r\n        for (let i = 0; i <= 11; i++) {\r\n            let monthObj = this.props.selectedYearMap[i + 1]\r\n            console.log(this.props.selectedYearMap)\r\n            if (monthObj) {\r\n                let actual = parseInt(monthObj.actual, 10)\r\n                let target = parseInt(monthObj.target, 10)\r\n                if (!parseInt(monthObj.actual, 10)) {\r\n                    actual = \"N/A\"\r\n                }\r\n                let color = this.actualColor(actual, target, monthObj.dataType)\r\n                if (monthObj.dataType == \"percent\") {\r\n                    actual += \"%\"\r\n                    target += \"%\"\r\n                } else if (monthObj.dataType == \"money\") {\r\n                    actual = \"$\" + actual \r\n                    target = \"$\" + target \r\n                }\r\n\r\n                if (!parseInt(monthObj.actual, 10)) {\r\n                    actual = \"N/A\"\r\n                }\r\n        \r\n                monthArrayInfo[i] = (\r\n                    <MetricMonthly\r\n                        month={i + 1}\r\n                        actual={actual}\r\n                        coe={monthObj.coe}\r\n                        highlights={monthObj.highlights}\r\n                        lowlights={monthObj.lowlights}\r\n                        target={target}\r\n                        datatype={monthObj.dataType}\r\n                        color={color}/>\r\n                )\r\n            } else {\r\n                monthArrayInfo[i] = (\r\n                    <MetricMonthly\r\n                        month={i + 1}\r\n                        actual=\"\"\r\n                        coe=\"\"\r\n                        highlights=\"\"\r\n                        lowlights=\"\"\r\n                        target=\"\"/>\r\n                )\r\n            }\r\n        }\r\n        return monthArrayInfo\r\n    }\r\n\r\n    barChart() {\r\n        if (this.props.selectedYearMap.length > 0 && this.props.selectedYearMap[1].dataType != \"text\") {\r\n        const data = []\r\n        var datatype\r\n        for (let i = 0; i <= 11; i++) {\r\n            let monthObj = this.props.selectedYearMap[i + 1]\r\n            if (monthObj) {\r\n                // Need to do some work based on the data type received for the metric\r\n                // cannot always assume it's an int\r\n                const actual = parseInt(monthObj.actual, 10)\r\n                const target = parseInt(monthObj.target, 10)\r\n                datatype = monthObj.dataType\r\n                data[i] = ({\r\n                    month: i + 1,\r\n                    actual: actual || 0,\r\n                    target: target || 0\r\n                })\r\n            } else {\r\n                data[i] = ({\r\n                    month: i + 1,\r\n                    actual: 0,\r\n                    target: 0\r\n                })\r\n            }\r\n        }\r\n\r\n        var margin = {top: 30, right: 100, bottom: 70, left: 130},\r\n        width = 1200 - margin.left - margin.right,\r\n        height = 300 - margin.top - margin.bottom;\r\n\r\n        var svg = d3\r\n      .select(\"body\")\r\n      .append(\"svg\")\r\n      .attr(\"width\", '100%')\r\n      .attr(\"height\", '100%')\r\n      .attr('viewBox','0 0 970 200')\r\n      .attr('preserveAspectRatio','xMinYMin')\r\n      .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    \r\n        var dataset = [];\r\n        for(let i = 0; i <= 3; i++ ) {\r\n         var actual = data[i * 3].actual\r\n         actual += data[i * 3 + 1].actual\r\n         actual += data[i * 3 + 2].actual\r\n            console.log(actual)\r\n         var target = data[i * 3].target\r\n         target += data[i * 3 + 1].target\r\n         target += data[i * 3 + 2].target\r\n    \r\n          dataset[i] = {\r\n            date: \"Quarter \" + (i + 1),\r\n            values: [\r\n            {name: 'Actuals', value:actual},\r\n            {name: 'Target', value:target}\r\n            ]\r\n          };\r\n        }\r\n\r\n    var actualRange = d3.extent(dataset, d => d.values[0].value);\r\n    var targetRange = d3.extent(dataset, d => d.values[1].value);\r\n\r\n        // X-Axis (Containing the months)\r\n        var x0 = d3.scaleBand()\r\n        .domain(dataset.map(function(d) { return d.date; }))\r\n        .rangeRound([0, width], .4);\r\n      \r\n      // A-Axis (The BARS)\r\n      var x1 = d3.scaleBand()\r\n        .domain(['Actuals', 'Target'])\r\n        .rangeRound([15, x0.bandwidth()]);\r\n  \r\n      // Left Axis (Contains Left Ticks)\r\n      var y0 = d3.scaleLinear()\r\n        .domain([0, Math.max(actualRange[1], targetRange[1])])\r\n        .nice()\r\n        .range([height, 0]);\r\n\r\n        if (datatype == \"percent\") {\r\n            y0.domain ([0, 100])\r\n        }\r\n  \r\n      var color = d3.scaleOrdinal()\r\n        .range([\"#D5D1E9\", \"#9991C6\"]);\r\n  \r\n      var xAxis = d3\r\n        .axisBottom(x0)\r\n  \r\n      var yAxisLeft = d3\r\n          .axisLeft(y0)\r\n          .tickFormat(function(d) { return parseInt(d) });\r\n  \r\n      // Ticks on x-axis and y-axis\r\n      svg.append(\"g\")\r\n          .attr(\"class\", \"x axis\")\r\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n          .call(xAxis);\r\n  \r\n      // (Left Side) Y Label (ACTUALS)\r\n      svg.append(\"g\")\r\n          .attr(\"class\", \"y0 axis\")\r\n          .call(yAxisLeft)\r\n        .append(\"text\")\r\n          .attr(\"transform\", \"rotate(-90)\")\r\n          .attr(\"y\", 6)\r\n          .attr(\"dy\", \".71em\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .style(\"font-size\", \"12\")\r\n          .style(\"fill\", \"#9991C6\")\r\n          .text(\"Values\");\r\n  \r\n      // Actuals TICKS\r\n      svg.select('.y0.axis')\r\n        .selectAll('.tick')\r\n          .style(\"fill\", \"black\");\r\n\r\n      // FORMAT TICKS FOR MONEY AND PERCENT\r\n      if (datatype == \"percent\") {\r\n          d3.axisLeft().tickFormat(d => d + \"%\")\r\n      } else if (datatype == \"money\") {\r\n          d3.axisLeft().tickFormat(d => \"$\" + d )\r\n      }\r\n  \r\n    \r\n      // MONTHS LABELS \r\n      svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + 250 + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Quarters\");\r\n\r\n        svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (-15) + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Actuals vs. Targets Quarterly\");\r\n        \r\n      var graph = svg\r\n          .selectAll(\".date\")\r\n          .data(dataset)\r\n          .enter()\r\n          .append(\"g\")\r\n            .attr(\"class\", \"g\")\r\n            .attr(\"transform\", function(d) { return \"translate(\" + x0(d.date) + \",0)\"; });\r\n  \r\n      graph.selectAll(\"rect\")\r\n          .data(function(d) { return d.values; })\r\n          .enter()\r\n          .append(\"rect\")\r\n            .attr(\"width\", x0.bandwidth())\r\n            .attr(\"x\", function(d) { return x0(d.name); })\r\n            .attr(\"y\", function(d) { return y0(d.value); })\r\n            .attr(\"height\", function(d) { return height - y0(d.value); })\r\n            .style(\"fill\", function(d) { return color(d.name); });\r\n\r\n        const tip = svg\r\n            .append(\"g\")\r\n            .style(\"pointer-events\", \"none\");\r\n        \r\n        const tipText = tip\r\n            .append(\"text\")\r\n            .style(\"text-anchor\", \"middle\");\r\n\r\n            var drawRect = ele => {\r\n                ele\r\n                    .attr(\"width\", x1.bandwidth())\r\n                    .attr(\"x\", function(d) { return x1(d.name); })\r\n                    .attr(\"y\", function(d) { return y0(d.value); })\r\n                    .attr(\"height\", function(d) { return height - y0(d.value); })\r\n                    .style(\"fill\", function(d) { return color(d.name); })\r\n                };\r\n\r\n            graph\r\n            .selectAll(\"rect\")\r\n            .data(function(d) { return d.values; })\r\n            .join(\"rect\")\r\n                .on(\"mouseenter\", function(d) {\r\n                    let text = \"\";\r\n                    const pos = d3.mouse(this);\r\n                    tip.attr(\"transform\", `translate(${pos[0]}, ${pos[1] - 10})`);\r\n                    tipText.text(d.name + \" \" + d.value);\r\n                })\r\n    \r\n                .on(\"mousemove\", function(d) {\r\n                    const pos = d3.mouse(this);\r\n                    tip.attr(\"transform\", `translate(${pos[0]}, ${pos[1] - 10})`);\r\n                })\r\n            .call(drawRect)\r\n  \r\n      // Legend\r\n      var legend = svg\r\n          .selectAll(\".legend\")\r\n          .data(['Actuals', 'Target'].slice())\r\n          .enter()\r\n          .append(\"g\")\r\n            .attr(\"class\", \"legend\")\r\n            .attr(\"transform\", function(d, i) { return \"translate(90,\" + i * 20 + \")\"; });\r\n  \r\n      legend.append(\"rect\")\r\n          .attr(\"x\", width - 20)\r\n          .attr(\"width\", 18)\r\n          .attr(\"height\", 18)\r\n          .style(\"fill\", color);\r\n  \r\n      legend.append(\"text\")\r\n          .attr(\"x\", width - 25)\r\n          .attr(\"y\", 9)\r\n          .attr(\"dy\", \".35em\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .text(function(d) { return d; });\r\n          \r\n        }\r\n    }\r\n\r\n\r\n    svgRender() {\r\n        return <svg id=\"bar-chart\"ref={this.barChart()}\r\n              width={860} height={210}/>\r\n    }\r\n    // Renders information for quarters for the\r\n    // selected metric calculation and year\r\n    quarterArrayElements() {\r\n        const quarterArrayInfo = []\r\n        var dataType\r\n\r\n        if (this.props.selectedYearMap[1]) {\r\n            dataType = this.props.selectedYearMap[1].dataType\r\n        }\r\n\r\n        for (let i = 0; i <= 3; i++) {\r\n            let actualExists = false\r\n            let targetExists = false\r\n            let monthObjColor\r\n            let color    \r\n            let actual = 0;\r\n            let target = 0;\r\n            var actualsCounter = 0;\r\n            var targetsCounter = 0;\r\n\r\n            let monthObj1 = this.props.selectedYearMap[i * 3 + 1]\r\n        if (monthObj1){\r\n            if (!actualExists && parseInt(monthObj1.actual, 10)) {\r\n                actualExists = true\r\n            }\r\n            if (!targetExists && parseInt(monthObj1.target, 10)) {\r\n                targetExists = true\r\n            }\r\n            if (parseInt(monthObj1.actual, 10)) {\r\n                actual += parseInt(monthObj1.actual, 10) || 0\r\n                actualsCounter++\r\n            }\r\n            if (parseInt(monthObj1.target, 10)) {\r\n                target += parseInt(monthObj1.target, 10) || 0\r\n                targetsCounter++\r\n            }\r\n            monthObjColor = monthObj1\r\n        }\r\n\r\n        let monthObj2 = this.props.selectedYearMap[i * 3 + 2]\r\n        if (monthObj2){\r\n            if (!actualExists && parseInt(monthObj2.actual, 10)) {\r\n                actualExists = true\r\n            }\r\n            if (!targetExists && parseInt(monthObj2.target, 10)) {\r\n                targetExists = true\r\n            }\r\n            if (parseInt(monthObj2.actual, 10)) {\r\n                actual += parseInt(monthObj2.actual, 10) || 0\r\n                actualsCounter++\r\n            }\r\n            if (parseInt(monthObj2.target, 10)) {\r\n                target += parseInt(monthObj2.target, 10) || 0\r\n                targetsCounter++\r\n            }\r\n            monthObjColor = monthObj2\r\n        }\r\n\r\n        let monthObj3 = this.props.selectedYearMap[i * 3 + 3]\r\n        if (monthObj3){\r\n            if (!actualExists && parseInt(monthObj3.actual, 10)) {\r\n                actualExists = true\r\n            }\r\n            if (!targetExists && parseInt(monthObj3.target, 10)) {\r\n                targetExists = true\r\n            }\r\n            if (parseInt(monthObj3.actual, 10)) {\r\n                actual += parseInt(monthObj3.actual, 10) || 0\r\n                actualsCounter++\r\n            }\r\n            if (parseInt(monthObj3.target, 10)) {\r\n                target += parseInt(monthObj3.target, 10) || 0\r\n                targetsCounter++\r\n            }\r\n            monthObjColor = monthObj3\r\n        }\r\n\r\n        if (!actualExists) {\r\n            actual = \"N/A\"\r\n        }\r\n        if(!targetExists) {\r\n            target = \"N/A\"\r\n        }\r\n\r\n        if (dataType == \"percent\" && actualExists) {\r\n            actual = Math.round(actual / actualsCounter )\r\n        } \r\n        if (dataType == \"percent\" && targetExists) {\r\n            target = Math.round(target / targetsCounter )\r\n        }\r\n\r\n        if (monthObjColor) {\r\n            color = this.actualColor(actual, target, monthObjColor.dataType)\r\n        }\r\n\r\n        if (dataType == \"percent\" && actualExists) {\r\n            actual += \"%\"\r\n        } else if (dataType == \"money\" && actualExists) {\r\n            actual = \"$\" + actual \r\n        }\r\n        if (dataType == \"percent\" && targetExists) {\r\n            target += \"%\"\r\n        } else if (dataType == \"money\" && targetExists) {\r\n            target = \"$\" + target \r\n        }\r\n\r\n                quarterArrayInfo[i] = (\r\n                    <MetricQuarterly\r\n                        quarter={i + 1}\r\n                        actual={actual}\r\n                        target={target}\r\n                        color={color}\r\n                    />\r\n                )\r\n            \r\n        }\r\n        return quarterArrayInfo\r\n    }\r\n\r\n    lineChart() {\r\n    \r\n    if (this.props.selectedYearMap.length > 0 && this.props.selectedYearMap[1].dataType != \"text\") {\r\n    var margin = {top: 30, right: 100, bottom: 70, left: 130},\r\n    width = 1200 - margin.left - margin.right,\r\n    height = 300 - margin.top - margin.bottom;\r\n\r\n    var svg = d3\r\n    .select(\"body\")\r\n    .append(\"svg\")\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom)\r\n            .append(\"g\")\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n        const data = []\r\n        var datatype\r\n        for (let i = 0; i <= 11; i++) {\r\n            let monthObj = this.props.selectedYearMap[i + 1]\r\n            if (monthObj) {\r\n                // Need to do some work based on the data type received for the metric\r\n                // cannot always assume it's an int\r\n                datatype = monthObj.dataType\r\n                const actual = parseInt(monthObj.actual, 10)\r\n                console.log(actual)\r\n                const target = parseInt(monthObj.target, 10)\r\n                data[i] = ({\r\n                    month: i + 1,\r\n                    actual: actual,\r\n                    target: target\r\n                })\r\n            } else {\r\n                data[i] = ({\r\n                    month: i + 1,\r\n                    actual: undefined,\r\n                    target: undefined\r\n                })\r\n            }\r\n        }\r\n    \r\n    var dataset = [];\r\n\r\n    var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \r\n                    \"September\", \"October\", \"November\", \"December\"]\r\n\r\n    for(let i = 0; i < data.length; i++ ) {\r\n        dataset[i] = {\r\n          date: months[i],\r\n          values: [\r\n          {name: 'Actuals', value: data[i].actual},\r\n          {name: 'Target', value: data[i].target}\r\n          ]\r\n        };\r\n    }\r\n\r\n                var actualRange = d3.extent(dataset, d => d.values[0].value);\r\n                var targetRange = d3.extent(dataset, d => d.values[1].value);\r\n            \r\n                // SET RANGES (SCALES)\r\n        // WHAT APPEARS ON THE X-AXIS \r\n        var x0 = d3.scalePoint()\r\n        .domain(dataset.map(function(d) { return d.date; }))\r\n        .rangeRound([0, width], .4);\r\n    \r\n    // What appears on the y-axis\r\n    var y0 = d3.scaleLinear()\r\n        .domain([0, Math.max(actualRange[1], targetRange[1])])\r\n        .range([height, 0]);\r\n\r\n    if (datatype == \"percent\") {\r\n        y0.domain ([0, 100])\r\n    }\r\n    // X-AXIS (VISUALS)\r\n    var xAxis = d3\r\n        .axisBottom(x0);\r\n\r\n    // Y-AXIS (VISUALS)\r\n    var yAxisLeft = d3\r\n        .axisLeft(y0)\r\n        .tickFormat(function(d) { return parseInt(d) });\r\n\r\n    // ACTUALS LINE\r\n    var actual_line = d3\r\n    .line()\r\n    .defined(d => !isNaN(d.values[0].value))\r\n        .x(d => x0(d.date))\r\n        .y(d => y0(d.values[0].value));\r\n\r\n    // TARGET LINE\r\n    var target_line = d3\r\n    .line()\r\n    .defined(d => !isNaN(d.values[1].value))\r\n        .x(d => x0(d.date))\r\n        .y(d => y0(d.values[1].value));\r\n\r\n    // Ticks on x-axis and y-axis\r\n    svg.append(\"g\")\r\n        .attr(\"class\", \"x0 axis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(xAxis);\r\n\r\n    // (Left Side) Y Label (ACTUALS)\r\n    svg.append(\"g\")\r\n        .attr(\"class\", \"y0 axis\")\r\n        .call(yAxisLeft)\r\n        .append(\"text\")\r\n        .attr(\"transform\", \"rotate(-90)\")\r\n        .attr(\"y\", 6)\r\n        .attr(\"dy\", \".71em\")\r\n        .style(\"text-anchor\", \"end\")\r\n        .style(\"font-size\", \"12\")\r\n        .style(\"fill\", \"#D5D1E9\")\r\n        .text(\"Values\");\r\n\r\n    // Actuals TICKS\r\n    svg.select('.y0.axis')\r\n        .selectAll('.tick')\r\n        .style(\"fill\", \"black\");\r\n\r\n    // MONTHS LABELS \r\n    svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + 250 + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Months\")\r\n\r\n    svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (-15) + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Actuals vs. Targets Monthly\")\r\n    console.log(datatype)\r\n    // COLOR\r\n    var color = d3.scaleOrdinal()\r\n        .range([\"#D5D1E9\", \"#9991C6\"]);\r\n\r\n    // ACTUAL LINE LINE\r\n    svg\r\n    .append(\"path\")\r\n    .datum(dataset)\r\n    .attr(\"fill\", \"none\")\r\n    .attr(\"stroke\", \"#D5D1E9\")\r\n    .attr(\"stroke-width\", 3)\r\n    .attr(\"stroke-linejoin\", \"round\")\r\n    .attr(\"stroke-linecap\", \"round\")\r\n    .attr(\"d\", actual_line)\r\n\r\n    // TARGET LINE\r\n    svg\r\n    .append(\"path\")\r\n    .datum(dataset)\r\n    .attr(\"fill\", \"none\")\r\n    .attr(\"stroke\", \"#9991C6\")\r\n    .attr(\"stroke-width\", 3)\r\n    .attr(\"stroke-linejoin\", \"round\")\r\n    .attr(\"stroke-linecap\", \"round\")\r\n    .attr(\"d\", target_line);  \r\n\r\n    // FOR HOVERING\r\n    var div = d3\r\n        .select(\"body\")\r\n        .append(\"div\")\r\n        .attr(\"class\", \"tooltip\")\r\n        .style(\"opacity\", 0);\r\n\r\n    // ACTUALS\r\n    svg\r\n    .selectAll(\"dot\")\r\n    .data(dataset)\r\n    .enter()\r\n        .append(\"circle\")\r\n    .attr(\"cx\", d => x0(d.date))\r\n    .attr(\"cy\", d => y0(d.values[0].value))\r\n    .attr(\"r\", 3)\r\n    .attr(\"fill\", \"black\")\r\n    .attr(\"opacity\", 0.7)\r\n    .on('mouseover', function (d, i) {\r\n        d3.select(this).transition()\r\n            .duration('100')\r\n            .attr(\"r\", 7);\r\n        div.transition()\r\n            .duration(100)\r\n            .style(\"opacity\", 1);\r\n        div.html(\"Actuals: \" + d.values[0].value)\r\n            .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n            .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n    })\r\n    .on('mouseout', function (d, i) {\r\n        d3.select(this).transition()\r\n            .duration(200)\r\n            .attr(\"r\", 3);\r\n        div.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", 0);\r\n    })\r\n    .filter(d => isNaN(d.values[0].value)).remove();\r\n\r\n    // TARGET\r\n    svg\r\n    .selectAll(\"dot\")\r\n    .data(dataset)\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"cx\", d => x0(d.date))\r\n    .attr(\"cy\", d => y0(d.values[1].value))\r\n    .attr(\"r\", 3)\r\n    .attr(\"fill\", \"black\")\r\n    .attr(\"opacity\", 0.7)\r\n    .on('mouseover', function (d, i) {\r\n        d3.select(this).transition()\r\n            .duration('100')\r\n            .attr(\"r\", 7);\r\n        div.transition()\r\n            .duration(100)\r\n            .style(\"opacity\", 1);\r\n        div.html(\"Target: \" + d.values[1].value)\r\n            .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n            .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n    })\r\n    .on('mouseout', function (d, i) {\r\n        d3.select(this).transition()\r\n            .duration('200')\r\n            .attr(\"r\", 3);\r\n        div.transition()\r\n            .duration('200')\r\n            .style(\"opacity\", 0);\r\n    })\r\n    .filter(d => isNaN(d.values[1].value)).remove();\r\n\r\n    // FORMAT TICKS FOR MONEY AND PERCENT\r\n    if (datatype == \"percent\") {\r\n        d3.axisLeft().tickFormat(d => d + \"%\")\r\n    } else if (datatype == \"money\") {\r\n        d3.axisLeft().tickFormat(d => \"$\" + d )\r\n    }\r\n\r\n    // LEGEND (BOXES)\r\n    var legend = svg\r\n        .selectAll(\".legend\")\r\n        .data(['Actuals', 'Target'].slice())\r\n        .enter()\r\n        .append(\"g\")\r\n            .attr(\"class\", \"legend\")\r\n            .attr(\"transform\", function(d, i) { return \"translate(90,\" + i * 20 + \")\"; });\r\n\r\n    legend.append(\"rect\")\r\n        .attr(\"x\", width - 20)\r\n        .attr(\"width\", 18)\r\n        .attr(\"height\", 18)\r\n        .style(\"fill\", color);\r\n\r\n    legend.append(\"text\")\r\n        .attr(\"x\", width - 25)\r\n        .attr(\"y\", 9)\r\n        .attr(\"dy\", \".35em\")\r\n        .style(\"text-anchor\", \"end\")\r\n        .text(function(d) { return d; });\r\n    }\r\n}\r\n\r\nsvgRenderLine() {\r\n    return <svg id=\"line-chart\" ref={this.lineChart()}\r\n          width={860} height={210}/>\r\n}\r\n    // Renders information for annuals for\r\n    // the selected metric calculation and year\r\n    annualsArrayElements() {\r\n        let annualArrayInfo = []\r\n        let actual = 0\r\n        let target = 0\r\n        let monthObjColor\r\n        let color\r\n        let actualExists = false\r\n        let targetExists = false\r\n        let dataType\r\n        var targetsCounter = 0\r\n        var actualsCounter = 0\r\n\r\n        for(let i = 0; i < 11; i++) {\r\n            let monthObj = this.props.selectedYearMap[i + 1]\r\n            if (monthObj) {\r\n                if (!actualExists && parseInt(monthObj.actual, 10)) {\r\n                    actualExists = true\r\n                }\r\n                if (parseInt(monthObj.actual, 10) || 0) {\r\n                    actualsCounter ++\r\n                    actual += parseInt(monthObj.actual, 10)\r\n                }\r\n\r\n                if (!targetExists && parseInt(monthObj.target, 10)){\r\n                    targetExists = true\r\n                }\r\n                \r\n                if (parseInt(monthObj.target, 10)) {\r\n                    target += parseInt(monthObj.target, 10)\r\n                    targetsCounter++\r\n                }\r\n\r\n                dataType = monthObj.dataType\r\n                monthObjColor = monthObj\r\n        \r\n            }\r\n        }\r\n\r\n        if (dataType == \"percent\" && actualExists) {\r\n            actual = Math.round(actual / actualsCounter )\r\n        } \r\n        if (dataType == \"percent\" && targetExists) {\r\n            target = Math.round(target / targetsCounter )\r\n        }\r\n\r\n        if (!actualExists) {\r\n            actual = \"N/A\"\r\n        }\r\n\r\n        if (!targetExists) {\r\n            target = \"N/A\"\r\n        }\r\n\r\n        if (monthObjColor) {\r\n            color = this.actualColor(actual, target, monthObjColor.dataType)\r\n        }\r\n\r\n        if (dataType == \"percent\" && actualExists) {\r\n            actual += \"%\"\r\n        } else if (dataType == \"money\" && actualExists) {\r\n            actual = \"$\" + actual \r\n        }\r\n        if (dataType == \"percent\" && targetExists) {\r\n            target += \"%\"\r\n        } else if (dataType == \"money\" && targetExists) {\r\n            target = \"$\" + target \r\n        }\r\n\r\n                annualArrayInfo[0] = (\r\n                    <MetricAnnuals\r\n                        year={this.state.selectedYear}\r\n                        actual={actual}\r\n                        target={target}\r\n                        color={color}\r\n                    />\r\n                )\r\n        return annualArrayInfo\r\n    }\r\n\r\n   //\r\n\r\n    render() {\r\n        const metricElements = this.arrayElements()\r\n\r\n        let currentNumCalc = this.state.currentCalculation\r\n        const monthElements = this.monthArrayElements()\r\n        const quarterElements = this.quarterArrayElements()\r\n        const annualElements = this.annualsArrayElements()\r\n        let yearElements = this.yearElements()\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <div id=\"titleElements\">\r\n                    <button id=\"back-arrow\"\r\n                        onClick={(e) => this.props.goBack(e)}>\r\n                    &larr;\r\n                    </button>\r\n                    <h1 id=\"metrictitle\"> {this.props.metricAreaInfo} </h1>\r\n                </div>\r\n                <div>\r\n                    <div className=\"options\">\r\n                        <div \r\n                        className=\"dropTitle\"\r\n                        ><strong>Metric: </strong></div>\r\n                    <select className=\"options\"\r\n\r\n                        onChange={(e) => this.props.handleCalChange(e)}>\r\n                        <option value=\"None\" disabled selected>None</option>\r\n                        {metricElements}\r\n                    </select>\r\n                    \r\n\r\n                    {/* Once a metric is selected,\r\n                    fill in depending on how many keys\r\n                    and enable */}\r\n                       <div className=\"dropTitle\"><strong>Year: </strong></div>\r\n                    <select \r\n                        disabled={this.state.selectEnable}\r\n                        name=\"selectedYear\"\r\n                        onChange={(e) => this.props.handleYearChange(e)}>\r\n                        <option value=\"\" disabled selected>Select a Year</option>\r\n                        {yearElements}\r\n                    </select>\r\n                    </div>\r\n\r\n\r\n                    <div id=\"legend\">\r\n                        <div className=\"test\">\r\n                            <div id=\"onTarget\"className=\"targets\">\r\n                            </div>\r\n                            <div className=\"targets\">\r\n                                On Target\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"test\">\r\n                        <div id=\"inMargin\"className=\"targets\">\r\n                            </div>\r\n                            <div className=\"targets\">\r\n                            &lt;5% variation to target\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"test\">\r\n                        <div id=\"outMargin\"className=\"targets\">\r\n                            </div>\r\n                            <div className=\"targets\">\r\n                            &gt;5% variation to target\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <Table bordered align=\"center\">\r\n                <thead>\r\n                    <tr>\r\n                    <th> Metric Calculations </th>\r\n                    <th> Metric Calculations </th>\r\n                    </tr>\r\n                </thead>\r\n\r\n\r\n                Table representing metric and metric caluclation\r\n                <tbody>\r\n                    {metricElements}\r\n                </tbody>\r\n            </Table> */}\r\n\r\n                {/* Container for current  */}\r\n                <div>\r\n                    {/* Monthly Information */}\r\n                    {monthElements}\r\n                    {/* Quarterly Information */}\r\n                    {quarterElements}\r\n                    {/* Yearly Information */}\r\n                    {annualElements}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single year <option> element in the\r\n// select drop-down.\r\nexport class YearElement extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.year}>\r\n                {this.props.year}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single row in the metric/metric calculations table\r\n// Contains all metric name and metric calculation names for a metric area\r\nclass MetricCalculationRow extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.metrics}\r\n                id={this.props.metricCalcID}>\r\n                {this.props.metrics}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricMonthly extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    month(num) {\r\n        switch (num) {\r\n            case 1:\r\n                return \"January\"\r\n            case 2:\r\n                return \"February\"\r\n            case 3:\r\n                return \"March\"\r\n            case 4:\r\n                return \"April\"\r\n            case 5:\r\n                return \"May\"\r\n            case 6:\r\n                return \"June\"\r\n            case 7:\r\n                return \"July\"\r\n            case 8:\r\n                return \"August\"\r\n            case 9:\r\n                return \"September\"\r\n            case 10:\r\n                return \"October\"\r\n            case 11:\r\n                return \"November\"\r\n            case 12:\r\n                return \"December\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let actualValue = this.props.actual\r\n        let monthValue = this.month(this.props.month)\r\n        // let color = this.actualColor(this.props.actual, this.props.target, this.props.datatype)\r\n        // console.log(color)\r\n        let color = \"green\"\r\n\r\n        // If there is no value existing for the actual yet\r\n        if (!actualValue) {\r\n            actualValue = \"N/A\"\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"title\">{monthValue}</h2>\r\n                <Table responsive>\r\n                    <tbody className=\"table\">\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                            <th className=\"lowHigh\">Highlights</th>\r\n                            <th className=\"lowHigh\">Lowlights</th>\r\n                            <th className=\"lowHigh\">Correction of Error</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{backgroundColor: this.props.color}} className=\"values\">{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                            <th className=\"lowHigh\">{this.props.highlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.lowlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.coe}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// QUARTER TABLES\r\nclass MetricQuarterly extends Component {\r\n    render() {\r\n        let actualValue = this.props.actual\r\n        let quarterValue = \"Quarter \" + this.props.quarter\r\n\r\n        // If there is no value existing for the actual yet\r\n        if (!actualValue) {\r\n            actualValue = \"N/A\"\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"Qtitle\">{quarterValue}</h2>\r\n                <Table responsive className=\"quarters\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                        </tr>\r\n                        <tr>\r\n                            {/* This should be auto-calculated based upon month values */}\r\n                            <th className=\"values\" style={{backgroundColor: this.props.color}}>{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAnnuals extends Component {\r\n    render() {\r\n        let actualValue = this.props.actual\r\n                // If there is no value existing for the actual yet\r\n                if (!actualValue) {\r\n                    actualValue = \"N/A\"\r\n                }\r\n        return (\r\n            <div>\r\n                <h2 className=\"Atitle\">Annual Information {this.props.year} </h2>\r\n                <Table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                            <th className=\"lowHigh\">Highlights</th>\r\n                            <th className=\"lowHigh\">Lowlights</th>\r\n                            <th className=\"lowHigh\">Correction of Error</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th className=\"values\" style={{backgroundColor: this.props.color}}>{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                            <th className=\"lowHigh\">{this.props.highlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.lowlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.coe}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport { Button, ButtonGroup, ButtonToolbar } from 'reactstrap';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardDeck, CardGroup } from 'reactstrap';\r\nimport './css/Metrics.css';\r\nimport './index.js';\r\nimport firebase from 'firebase/app';\r\nimport { DashBoard, YearElement } from './DashBoard';\r\n\r\nexport class Metrics extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let year = new Date()\r\n        year = year.getFullYear().toString()\r\n\r\n\r\n        this.retrieveInfo = this.retrieveInfo.bind(this)\r\n        this.handleCalChange = this.handleCalChange.bind(this)\r\n        this.handleYearChange = this.handleYearChange.bind(this)\r\n        this.goBack = this.goBack.bind(this)\r\n\r\n        this.state = {\r\n            // Data to be passed into metric calculations\r\n            // Represents metricAreaName\r\n            metricAreaInfo: null,   // Contains metric area name\r\n            metricAreaOwner: null,  // Contains metric area owner name\r\n            metricAreaCalculations: new Map(), // Represents all calculations for a metric area\r\n            metricAreaCalculationIDs: [],\r\n            dashboardEnabled: false,\r\n\r\n            // Dashboard State Items\r\n            currentYear: year,\r\n            monthsYearsMap: new Map(),\r\n            quartersYearsMap: new Map(),\r\n            annualsYearsMap: new Map(),\r\n            selectedYearMap: new Map(),\r\n            selectedQuarterMap: new Map(),\r\n            selectedAnnualMap: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    // Renders metric area cards \r\n    metricAreaElements() {\r\n        const metricAreaElements = Array.from(this.props.metrics.entries()).map((key) => {\r\n            // Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricAreaCard\r\n                metricName={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricNameFunc={this.retrieveInfo}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    retrieveInfo(name, id) {\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let metricCalcInfo = snapshot.val();\r\n            let databaseKeys = Object.keys(metricCalcInfo);\r\n            let mapCalculations = new Map()\r\n\r\n            databaseKeys.map((key) => {\r\n                let Mid = metricCalcInfo[key].metricAreaID\r\n                if (id === Mid) {\r\n                    mapCalculations.set(key, metricCalcInfo[key])\r\n                }\r\n            })\r\n            console.log(mapCalculations)\r\n            this.setInfo(mapCalculations, name, id)\r\n        });\r\n    }\r\n    \r\n    // Callback to render new information\r\n    setInfo(mapCalculations, name, id) {\r\n        this.setState((state) => {\r\n            state.metricAreaCalculations = mapCalculations\r\n            state.dashboardEnabled = true\r\n            state.metricAreaID = id\r\n            state.metricAreaInfo = name\r\n            return state\r\n        })\r\n    }\r\n\r\n    handleCalChange = (event) => {\r\n        let area = event.target.value\r\n        const selected = event.target.options.selectedIndex\r\n        let field = (event.target.options[selected].getAttribute('id'))\r\n        if (this.state.currentCalc && this.state.selectedYear && this.state.currentCalcID) {\r\n            this.informationMonthRerender(area, field, \"metricGoalsMonths\", this.state.selectedYear)\r\n            this.informationQuarterRerender(area, field, \"metricGoalsQuarters\", this.state.selectedYear)\r\n            this.informationAnnualRerender(area, field, \"metricGoalsAnnuals\", this.state.selectedYear)\r\n        } else {\r\n            let area = event.target.value\r\n            this.informationMonth(area, field, \"metricGoalsMonths\")\r\n            this.informationQuarter(area, field, \"metricGoalsQuarters\")\r\n            this.informationAnnuals(area, field, \"metricGoalsAnnuals\")\r\n        }\r\n    }\r\n\r\n    // Accepts two parameters,\r\n    // id and path, where id\r\n    // is the selected metric calculation id and\r\n    // path is the path to the specified times.\r\n    // Returns a map containing all information across years\r\n    // for that specific calculation id\r\n    informationMonth(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap =  new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.monthsYearsMap = infoMap\r\n                state.selectEnable = false\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationMonthRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        let selectedMonthMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n            selectedMonthMap = infoMap.get(year)\r\n\r\n            console.log(infoMap)\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.monthsYearsMap = infoMap\r\n                state.selectedYearMap = selectedMonthMap\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationQuarter(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap =  new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.quartersYearsMap = infoMap\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationQuarterRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        let selectedQuarterMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n            selectedQuarterMap = infoMap.get(year)\r\n\r\n            console.log(infoMap)\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.quartersYearsMap = infoMap\r\n                state.selectedQuarterMap = selectedQuarterMap\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationAnnuals(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap =  new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.annualsYearsMap = infoMap\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationAnnualRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap =  new Map()\r\n\r\n        let selectedAnnualMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n            \r\n            selectedAnnualMap = infoMap.get(year)\r\n\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.AnnualsYearsMap = infoMap\r\n                state.selectedAnnualMap = selectedAnnualMap\r\n            return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    renderYears() {\r\n        const test = Array.from(this.state.monthsYearsMap.entries()).map((key) => {\r\n             return <YearElement\r\n                year={key[0]}\r\n                yearFunc={this.handleYearChange} />\r\n        })\r\n        return test\r\n    }\r\n\r\n   // When a year is selected,\r\n    // retrieves information for the month, quarter, and selected year\r\n    // and pushes changes to state\r\n    handleYearChange(event) {\r\n        let selectedYear = event.target.value\r\n        let selectedYearMap = this.state.monthsYearsMap.get(selectedYear)\r\n        let selectedQuarterMap = this.state.quartersYearsMap.get(selectedYear)\r\n        let selectedAnnualMap = this.state.annualsYearsMap.get(selectedYear)\r\n        this.setState((state) => {\r\n            state.selectedYear = selectedYear\r\n            state.selectedYearMap = selectedYearMap\r\n            state.selectedQuarterMap = selectedQuarterMap\r\n            state.selectedAnnualMap = selectedAnnualMap\r\n            return state\r\n        })\r\n    }\r\n\r\n    goBack(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            state.dashboardEnabled = false\r\n            state.monthsYearsMap = new Map()\r\n            state.quartersYearsMap = new Map()\r\n            state.annualsYearsMap = new Map()\r\n            state.selectedYearMap = new Map()\r\n            state.selectedQuarterMap = new Map()\r\n            state.selectedAnnualMap = new Map()\r\n            return state\r\n        })\r\n    }\r\n\r\n    resetYears() {\r\n        this.setState((state) => {\r\n            state.monthsYearsMap = new Map()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const metricAreaElements = this.metricAreaElements()\r\n        const renderYears = this.renderYears()\r\n        console.log(renderYears)\r\n\r\n        let content = null\r\n\r\n        if (this.state.dashboardEnabled) {\r\n            content = (\r\n                <div>\r\n                    <DashBoard\r\n                        {...this.state}\r\n                        handleCalChange={this.handleCalChange}\r\n                        handleYearChange={this.handleYearChange}\r\n                        information={this.information}\r\n                        goBack={this.goBack}\r\n                    />\r\n                </div>\r\n            )\r\n        } else {\r\n            content = (\r\n                <div>\r\n                    <h1> Metric Areas </h1>\r\n                    <CardDeck className='metricsDeck'>\r\n                        {metricAreaElements}\r\n                    </CardDeck>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaCard extends Component {\r\n    render() {\r\n        return (\r\n            <Button className='metrics'\r\n                onClick={() => this.props.metricNameFunc(this.props.metricName, this.props.metricID)}>\r\n                <strong>{this.props.metricName}</strong>\r\n            </Button>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/DataEntry.css';\r\nimport './index.js';\r\n\r\nimport { CardDeck } from 'reactstrap';\r\nimport firebase from 'firebase/app';\r\nimport { createPortal } from 'react-dom';\r\n\r\nexport class DataEntry extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.setMetric = this.setMetric.bind(this)\r\n        this.updateChange = this.updateChange.bind(this)\r\n        this.updateSelectForm = this.updateSelectForm.bind(this)\r\n        this.updateACheckForm = this.updateACheckForm.bind(this)\r\n        this.updateTCheckForm = this.updateTCheckForm.bind(this)\r\n        this.previewForm = this.previewForm.bind(this)\r\n        this.editForm = this.editForm.bind(this)\r\n        this.submitForm = this.submitForm.bind(this)\r\n        this.updateSelectedMetricAreaCalculation = this.updateSelectedMetricAreaCalculation.bind(this)\r\n        this.check = this.check.bind(this)\r\n        this.timeDisplay = this.timeDisplay.bind(this)\r\n        this.dataDisplay = this.dataDisplay.bind(this)\r\n\r\n        this.state = {\r\n            currentMetricAreaCalculations: new Map(), // Represents all calculations\r\n            currentArchivedCalculations: new Map(),\r\n            selectedMetricAreaCalculations: null, // Represents the chosen metric area calculation to populate\r\n            metricAreaID: null, // Holds metric area ID\r\n            metricAreaName: null, // Holds metric area name\r\n            // canEditActuals: false, // Determines users ability to enter data for actuals\r\n            // canEditTargets: false, // Determines users ability to enter data for targets\r\n            currentYear: new Date(), // Used for entering data for the current year\r\n            // tfValue: 1, // Will always default to January\r\n            selectTF: \"metricGoalsMonths\", // Will always default to Months\r\n            actualEn: false,\r\n            targetEn: false,\r\n            preview: false,\r\n            month: \"\",\r\n            lowlight: \"\", // Needed for firebase interaction\r\n            highlight: \"\", // Needed for firebase interaction\r\n            mitigation: \"\", // Needed for firebase interaction\r\n            metrics: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveUsersMetricAreas()\r\n        this.retrieveAdminUsers()\r\n        this.checkCurrentDateActuals()\r\n        this.checkCurrentDateTargets()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    retrieveAdminUsers() {\r\n        let rootPath = firebase.database().ref('admins')\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            let usersMap = new Map()\r\n\r\n            // If the admins reference exists in the database\r\n            // or if something exists in the database for admins\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    console.log(key)\r\n                    console.log(info[key])\r\n                    if (info[key].userID === this.props.user.uid) {\r\n                        console.log(\"Current user is an admin\")\r\n                        this.setState((state) => {\r\n                            state.adminPermissions = true\r\n                            return state\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n            // this.setAdminUsers(usersMap)\r\n        })\r\n    }\r\n\r\n    // Checks the current date of the month. If it is the first 3 months of the year\r\n    // the user can enter target data for the year.\r\n    // Note: To allow admin panel compatability to enable users to alter\r\n    // targets/actuals, check the following conditions:\r\n    // 1. If admin enables ability to alter targets/actuals\r\n    //      allow users to edit/submit information pass.\r\n    // Note: Check firebase to see if it is enabled.\r\n    // 2. For actuals:\r\n    //      a. Check if within first two weeks of the month.\r\n    // 3. For targets:\r\n    //      b. Check if within first two months of the year. \r\n    checkCurrentDateActuals() {\r\n        let currentDate = new Date()\r\n        let currentDay = currentDate.getDate()\r\n\r\n        let checkActuals = this.checkActualEnabled()\r\n\r\n        console.log(checkActuals)\r\n\r\n        // Check firebase to see if editing actuals is enabled\r\n        // Allow user to submit entry for actuals if \r\n        if (checkActuals || (currentDay <= 14)) {\r\n            this.enableActuals()\r\n            // Display error messaging\r\n        } else {\r\n            // console.log(\"Current date is within latter half of the month!\")\r\n            // console.log(\"Data cannot be submitted without admin permissions\")\r\n            this.setState((state) => {\r\n                state.errorMsg = \"Deadline has been passed for entering actuals for previous month. Contact admin to change permissions\"\r\n            })\r\n        }\r\n    }\r\n\r\n    // Compares current data to determine is user should be allowed to\r\n    // submit/edit data for targets. \r\n    checkCurrentDateTargets() {\r\n        let currentDate = new Date()\r\n        let currentMonth = currentDate.getMonth()\r\n\r\n        let checkTargets = this.checkTargetEnabled()\r\n\r\n        // Check firebase to see if editing targets is enabled\r\n        // Perhaps allow ability to change which months users can change data from admin panel...\r\n        if (checkTargets || currentMonth <= 3) {\r\n            this.enableTargets()\r\n        } else {\r\n            console.log(\"Current month is nothing the timeframe to enter targets\")\r\n            console.log(\"Data cannot be submitted without admin persmissions\")\r\n        }\r\n    }\r\n\r\n    // Checks to see if actual editing is enabled\r\n    checkActualEnabled() {\r\n        firebase.database().ref('dataEntrySettings/actualEnabled').once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            this.setState((state) => {\r\n                state.canEditActuals = info\r\n                return state\r\n            })\r\n        })\r\n    }\r\n\r\n    // Checks to see if target editing is enabled\r\n    checkTargetEnabled() {\r\n        firebase.database().ref('dataEntrySettings/targetEnabled').once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            this.setState((state) => {\r\n                state.canEditTargets = info\r\n                return state\r\n            })\r\n        })\r\n    }\r\n\r\n    retrieveUsersMetricAreas = () => {\r\n        let rootPath = firebase.database().ref('metricAreas')\r\n        rootPath.once('value', (snapshot) => {\r\n          let info = snapshot.val()\r\n          let keys = Object\r\n          .keys(info);\r\n          let ownerMap = new Map()\r\n    \r\n          keys.map((key) => {\r\n            let currentOwners = info[key].owners\r\n            for (var user in currentOwners) {\r\n              if (currentOwners[user].userID === this.props.user.uid) {\r\n                ownerMap.set(key, info[key])\r\n              }\r\n            }\r\n          })\r\n          this.setState((state) => {\r\n            state.metrics = ownerMap;\r\n            return state;\r\n          })\r\n        })      \r\n    }\r\n\r\n    // Allows user to submit data entry for actuals.\r\n    enableActuals() {\r\n        this.setState((state) => {\r\n            state.canEditActuals = true\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Allows user to submit data entry for targets.\r\n    enableTargets() {\r\n        this.setState((state) => {\r\n            state.canEditTargets = true\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Sets current state of metric area ID to button that was clicked\r\n    setMetric(name, id, actual, target) {\r\n        this.setState((state) => {\r\n            state.metricAreaID = id\r\n            state.metricAreaName = name\r\n            state.metricActualEnabled = actual\r\n            state.metricTargetEnabled = target\r\n            state.selectedMetricAreaCalculations = null\r\n            return state\r\n        })\r\n        this.retrieveMetricAreaCalculations()\r\n    }\r\n\r\n    // Sets state to have current metric area calculations for\r\n    // the selected metric area. \r\n    setCalculations(mapCalculations) {\r\n        this.setState((state) => {\r\n            state.currentMetricAreaCalculations = mapCalculations\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Retrieves relevant metric calculations for a metric\r\n    // area from the firebase database. \r\n    retrieveMetricAreaCalculations() {\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n        rootPath.once('value', (snapshot) => {\r\n            let metricCalcInfo = snapshot.val();\r\n            let databaseKeys = Object.keys(metricCalcInfo);\r\n            let mapCalculations = new Map()\r\n\r\n            databaseKeys.map((key) => {\r\n                let id = metricCalcInfo[key].metricAreaID\r\n                if (id === this.state.metricAreaID) {\r\n                    if (!metricCalcInfo[key].calcArchived) {\r\n                        mapCalculations.set(key, metricCalcInfo[key])\r\n                    }\r\n                }\r\n            })\r\n            this.setCalculations(mapCalculations)\r\n        })\r\n    }\r\n\r\n    updateSelectedMetricAreaCalculation(calc, name, type) {\r\n        console.log(type)\r\n        this.setState((state) => {\r\n            state.selectedMetricAreaCalculations = calc\r\n            state.selectedMetricAreaCalculationName = name\r\n            state.selectedMetricAreaCalculationDataType = type\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Updates state for month value when a drop-down option is selected\r\n    updateSelectForm(event) {\r\n        let tfValue = (event.target.value)\r\n        this.setState((state) => {\r\n            state.tfValue = tfValue\r\n            return state\r\n        })\r\n    }\r\n\r\n    // If the current month is January\r\n    // return last year's year\r\n    checkIfLastYear(month) {\r\n        let year = new Date()\r\n        year = year.getFullYear()\r\n\r\n        if (month === 1) {\r\n            year = year - 1\r\n        }\r\n\r\n        let timeObj = {\r\n            month: month,\r\n            year: year\r\n        }\r\n\r\n        console.log(timeObj)\r\n\r\n        return timeObj\r\n    }\r\n\r\n    // If admin allows users to enter data for the current month\r\n    // Need to set tfValue here whenever month is selected\r\n    // If adminactualEn is true, allow a dropdown for users to select\r\n    // the month\r\n    updateACheckForm(event) {\r\n        let val = (event.target.value)\r\n\r\n        let adminEnabled = this.state.canEditActuals\r\n        let month = new Date()\r\n        month = month.getMonth() + 1\r\n\r\n        let timeObj = this.checkIfLastYear(month)\r\n\r\n       let userP = this.state.metricActualEnabled\r\n\r\n       console.log(adminEnabled)\r\n\r\n       console.log(userP)\r\n\r\n        if (adminEnabled || userP) {\r\n            this.setState((state) => {\r\n                state.radio = val\r\n                state.actualEn = true\r\n                state.adminActualEn = adminEnabled\r\n                state.tfValue = timeObj.month\r\n                state.targetEn = false\r\n                return state\r\n            })\r\n        } else {\r\n            console.log(\"Test\")\r\n            this.setState((state) => {\r\n                state.actualDisabledMsg = \"Permissions to submit actuals are currently disabled or past the deadline. Contact your administrator.\"\r\n                return state\r\n            })\r\n        }\r\n    }\r\n\r\n    updateTCheckForm(event) {\r\n        let val = (event.target.value)\r\n\r\n        let adminEnabled = this.state.canEditTargets\r\n\r\n        console.log(adminEnabled)\r\n\r\n        let userP = this.state.metricTargetEnabled\r\n\r\n        if (adminEnabled || userP) {\r\n            this.setState((state) => {\r\n                state.radio = val\r\n                state.targetEn = true\r\n                state.actualEn = false\r\n                return state\r\n            })\r\n        } else {\r\n            this.setState((state) => {\r\n                state.targetDisabledMsg = \"Permissions to submit targets are currently disabled or past the first 3 months of the year. Contact your administrator to enable permissions.\"\r\n                return state\r\n            })\r\n        }\r\n    }\r\n\r\n    updateChange(event) {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    // Represents metric area calculation elements to render after\r\n    // a metric area is chosen. \r\n    metricAreaCalculations() {\r\n        let metricCalcElements = null\r\n        if (this.state.currentMetricAreaCalculations.size >= 1) {\r\n            metricCalcElements = Array.from(this.state.currentMetricAreaCalculations.\r\n                entries()).map((key) => {\r\n                    let calculation = key[1]\r\n                    return <MetricAreaCalcButton\r\n                        metricCalcName={calculation.calcName}\r\n                        metricCalcID={calculation.calcID}\r\n                        metricCalcDataType={calculation.dataType}\r\n                        metricCalcFunc={this.updateSelectedMetricAreaCalculation}\r\n                    />\r\n                })\r\n        } else {\r\n            metricCalcElements = (\r\n                <div>\r\n                    <h4>\r\n                        Choose a metric area\r\n                    </h4>\r\n                </div>\r\n            )\r\n        }\r\n        return metricCalcElements\r\n    }\r\n\r\n    // Creates a pop-up with all information from state asking if the\r\n    // user would like to confirm\r\n    // Notes: Check for any null values, if there are null values\r\n    // warn user and let them know they need to update those values.\r\n    // IMPORTANT! If target/actual being submitted is not an annual,\r\n    // allow user to submit null values for highlights, lowlights,\r\n    // and mitigation plans. \r\n    previewForm(t) {\r\n        if (t) {\r\n            this.setState((state) => {\r\n                state.preview = true\r\n                return state\r\n            })\r\n        }\r\n    }\r\n\r\n    // Will switch to preview view when\r\n    // the button is clicked, showing a summary of entered\r\n    // information\r\n    editForm() {\r\n        this.setState((state) => {\r\n            state.preview = false\r\n            return state\r\n        })\r\n    }\r\n\r\n    // // Enable preview button\r\n    // // when all the following conditions are met:\r\n    // // 1. Valid Information is entered\r\n    // // 2. All the necessary fields are filled out\r\n    // //      Necessary fields are:\r\n    // //          Data\r\n    // //          Radio\r\n    // //          Month (Enabled by default)\r\n    check() {\r\n        if (this.state.data && this.state.radio && this.state.data !== \"\"\r\n            && this.state.currentMetricAreaCalculations.size >= 1\r\n            && this.state.selectedMetricAreaCalculations) {\r\n            return true\r\n        }\r\n        let errors = {} // Object to hold errors\r\n\r\n        if (!this.state.data) {\r\n            errors[\"invalidData\"] = \"A value must be entered\"\r\n        }\r\n        if (!this.state.radio) {\r\n            errors[\"invalidRadio\"] = \"An actual or target must be selected\"\r\n        }\r\n        if (this.state.currentMetricAreaCalculations.size < 1) {\r\n            errors[\"invalidMetricArea\"] = \"A metric area must be selected\"\r\n        }\r\n        if (!this.state.selectedMetricAreaCalculations) {\r\n            errors[\"invalidMetricCalc\"] = \"A metric must be selected\"\r\n        }\r\n        errors[\"errorMsg\"] = \"Not all required fields have been answered/selected. Check above for more detail.\"\r\n\r\n        this.setState(errors)\r\n        return false\r\n    }\r\n\r\n    // Receives a timeDisplay (month, quarter, annual)\r\n    // and returns the appropriate elements for that display\r\n    timeDisplay(time) {\r\n        let x = null\r\n        switch ((time)) {\r\n            case \"metricGoalsMonths\":\r\n                x = (\r\n                    <div>\r\n                        <h2 id='month'> Month <span class=\"required\">*</span></h2>\r\n                        <select\r\n                            onChange={(e) => this.updateSelectForm(e)}>\r\n                            <option value=\"none\">Select a month</option>\r\n                            <option value={1}>January</option>\r\n                            <option value={2}>February</option>\r\n                            <option value={3}>March</option>\r\n                            <option value={4}>April</option>\r\n                            <option value={5}>May</option>\r\n                            <option value={6}>June</option>\r\n                            <option value={7}>July</option>\r\n                            <option value={8}>August</option>\r\n                            <option value={9}>September</option>\r\n                            <option value={10}>October</option>\r\n                            <option value={11}>November</option>\r\n                            <option value={12}>December</option>\r\n                        </select>\r\n                    </div>)\r\n                break;\r\n            case \"metricGoalsQuarters\":\r\n                x = (\r\n                    <div>\r\n                        <h2 id='quarter'> Quarter <span class=\"required\">*</span></h2>\r\n                        <select\r\n                            onChange={(e) => this.updateSelectForm(e)}>\r\n                            <option selected=\"selected\">None</option>\r\n                            <option value=\"1\">Quarter 1</option>\r\n                            <option value=\"2\">Quarter 2</option>\r\n                            <option value=\"3\">Quarter 3</option>\r\n                            <option value=\"4\">Quarter 4</option>\r\n                        </select>\r\n                    </div>\r\n                )\r\n                break;\r\n            case \"metricGoalsAnnuals\":\r\n                x = (\r\n                    <div>\r\n                        No Action Needed\r\n                    </div>\r\n                )\r\n                break;\r\n        }\r\n        return x\r\n    }\r\n\r\n    currentMonthDisplay(radio) {\r\n        let x = null\r\n        switch ((radio)) {\r\n            case \"metricGoalsMonths\":\r\n                x = (\r\n                    <div>\r\n                        <h2 id=\"month\">Submitting data for </h2>\r\n                    </div>\r\n                )\r\n        }\r\n        return x\r\n    }\r\n\r\n    dataDisplay(dataType) {\r\n        let x = null\r\n        switch ((dataType)) {\r\n            case \"money\":\r\n            case \"number\":\r\n            case \"percent\":\r\n                x = (\r\n                    <div class='textInput'>\r\n                        <label for=\"fname\">Enter a value <span class=\"required\">*</span> </label>\r\n                        <input\r\n                            value={this.props.data}\r\n                            onChange={(e) => this.updateChange(e)}\r\n                            type=\"number\" id=\"form\" name=\"data\" />\r\n                    </div>\r\n                )\r\n                break;\r\n            case \"text\":\r\n                x = (\r\n                    <div>\r\n                        <label for=\"fname\">Enter text <span class=\"required\">*</span> </label>\r\n                        <input\r\n                            value={this.props.data}\r\n                            onChange={(e) => this.updateChange(e)}\r\n                            type=\"text\" id=\"form\" name=\"data\" />\r\n                    </div>\r\n                )\r\n                break;\r\n        }\r\n        return x\r\n    }\r\n\r\n    test(selectTF, tfValue) {\r\n        let x = tfValue\r\n        if (selectTF === \"metricGoalsMonths\") {\r\n            switch (tfValue) {\r\n                case \"January\":\r\n                    console.log(\"January!\")\r\n                    x = 1;\r\n                    break;\r\n                case \"February\":\r\n                    x = 2;\r\n                    break;\r\n                case \"March\":\r\n                    x = 3;\r\n                    break;\r\n                case \"April\":\r\n                    x = 4;\r\n                    break;\r\n                case \"May\":\r\n                    x = 5;\r\n                    break;\r\n                case \"June\":\r\n                    x = 6\r\n                    break;\r\n                case \"July\":\r\n                    x = 7\r\n                    break;\r\n                case \"August\":\r\n                    x = 8\r\n                    break;\r\n                case \"September\":\r\n                    x = 9\r\n                    break;\r\n                case \"October\":\r\n                    x = 10\r\n                    break;\r\n                case \"November\":\r\n                    x = 11\r\n                    break;\r\n                case \"December\":\r\n                    x = 12\r\n                    break;\r\n                default:\r\n                    x = 1;\r\n            }\r\n        }\r\n        return x\r\n    }\r\n\r\n    // Push information to database\r\n    // as a JSON readable format.\r\n    // Check database if enty already exists, if it does, replace values in database\r\n    // otherwise, simply add the new data\r\n    submitForm(dataType, selectTF, tfValue, calcID, radio, data, highlight, lowlight, coe) {\r\n        // Get necessary values for inputting into database...\r\n        // Need: Month, metricCalculationID, and Year\r\n\r\n        // let year = new Date()\r\n        // year = year.getFullYear()\r\n        console.log(radio)\r\n\r\n        let timeObj = this.checkIfLastYear(tfValue)\r\n\r\n        let year = timeObj.year\r\n        let x = timeObj.month\r\n\r\n        console.log(selectTF)\r\n\r\n        let rootPath = firebase.database().ref(selectTF)\r\n\r\n\r\n        let monthString = x.toString()\r\n        let keyString = monthString\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            // If metricgoalsMonths does not exist\r\n            // Log error here...\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                let childPath = firebase.database().ref(selectTF + '/' + calcID + \"/\" + year + '/' + keyString)\r\n                childPath.once('value', (snapshot) => {\r\n                    let cInfo = snapshot.val()\r\n                    if (cInfo) {\r\n                        if (radio === \"Actual\") {\r\n                            childPath.update({\r\n                                actual: data,\r\n                                lowlights: lowlight,\r\n                                highlights: highlight,\r\n                                coe: coe,\r\n                                time: x,\r\n                                lastEdit: new Date(),\r\n                                dataType: dataType\r\n                            })\r\n                            this.setState((state) => {\r\n                                state.dataSubmitted = \"Data successfully submitted!\"\r\n                                return state\r\n                            })\r\n                            // If user wants to edit a target\r\n                        } else {\r\n                            childPath.update({\r\n                                target: data,\r\n                                lowlights: lowlight,\r\n                                highlights: highlight,\r\n                                coe: coe,\r\n                                time: x,\r\n                                lastEdit: new Date(),\r\n                                dataType: dataType\r\n                            })\r\n                            this.setState((state) => {\r\n                                state.dataSubmitted = \"Data successfully submitted!\"\r\n                                return state\r\n                            })\r\n                        }            \r\n                    } else {\r\n                        console.log(\"Test\")\r\n                        this.newMetricCalculation(dataType, selectTF, radio, calcID, keyString, data, lowlight, highlight, coe, x)\r\n                    }\r\n                })\r\n            } else {\r\n                console.log(\"Test\")\r\n                this.newMetricCalculation(dataType, selectTF, radio, calcID, keyString, data, lowlight, highlight, coe, x)\r\n            }\r\n        })\r\n    }\r\n\r\n    newMetricCalculation(dataType, selectTF, radio, calcID, keyString, data, lowlight, highlight, coe, x) {\r\n        if (radio === \"Actual\") {\r\n            console.log(\"Data does not exist yet!\")\r\n            console.log(\"Create a target before inserting an actual!\")\r\n            this.setState((state) => {\r\n                state.noActual = \"Data does not exist yet, create a target before inserting data for an actual\"\r\n                return state\r\n            })\r\n        } else {\r\n            // let ref = firebase.database().ref('metricAreas')\r\n            // let id = ref.push().getKey()\r\n            let currentTime = new Date()\r\n            let currentYear = currentTime.getFullYear() + \"/\"\r\n            firebase.database().ref(selectTF + '/' + calcID + \"/\" + currentYear + keyString).update({\r\n                target: data,\r\n                lowlights: lowlight,\r\n                highlights: highlight,\r\n                coe: coe,\r\n                time: x,\r\n                actual: \"N/A\",\r\n                dataType: dataType,\r\n                inputTime: currentTime\r\n            })\r\n\r\n            this.setState((state) => {\r\n                state.dataSubmitted = \"Data successfully submitted!\"\r\n                return state\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    renderDataEntryForm() {\r\n        return <DataEntryForm\r\n            {...this.state}\r\n            checkActualEnabled={this.checkActualEnabled}\r\n            checkTargetEnabled={this.checkTargetEnabled}\r\n            updateSelectForm={this.updateSelectForm}\r\n            updateRadioForm={this.updateRadioForm}\r\n            updateTCheckForm={this.updateTCheckForm}\r\n            updateACheckForm={this.updateACheckForm}\r\n            updateChange={this.updateChange}\r\n            previewForm={this.previewForm}\r\n            submitForm={this.submitForm}\r\n            checkIfLastYear={this.checkIfLastYear}\r\n            editForm={this.editForm}\r\n            check={this.check}\r\n            timeDisplay={this.timeDisplay}\r\n            dataDisplay={this.dataDisplay}\r\n        />\r\n    }\r\n\r\n    // Represents metric area elements to render on page.\r\n    metricAreaElements() {\r\n        const metricAreaElements = Array.from(this.state.metrics.entries()).map((key) => {\r\n            // Pass metricName, metricID into metricAreaCard as props then also pass in a \r\n            // list of props containing information about that specific metric\r\n            return <MetricAreaButton\r\n                metricName={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricActualEnabled={key[1].metricActualEnabled}\r\n                metricTargetEnabled={key[1].metricTargetEnabled}\r\n                metricFunc={this.setMetric}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    render() {\r\n        const metricAreaElements = this.metricAreaElements()\r\n        const metricAreaCalculationsElements = this.metricAreaCalculations()\r\n        const dataEntryForm = this.renderDataEntryForm()\r\n        let formContent = (<div>\r\n            <section id=\"forms\">\r\n                {dataEntryForm}\r\n            </section>\r\n        </div>)\r\n\r\n        let content = (\r\n            <div>\r\n                <section class=\"entry\">\r\n                    <h1 className=\"DataEn\"> Data Entry Form </h1>\r\n                    {/* Populate based on whether metric owner owns metric */}\r\n                    <h2 class='MetricTitles'> Metric Area <span class=\"required\">*</span> </h2>\r\n                    <CardDeck className=\"datadeck\">\r\n                        {metricAreaElements}\r\n                    </CardDeck>\r\n                    <div class=\"errorMsg\">\r\n                        <p>{this.state.invalidMetricArea}</p>\r\n                    </div>\r\n                    {/* Populate based on metric chosen */}\r\n                    <h2 class='MetricTitles'> Metric <span class=\"required\">*</span></h2>\r\n                    <CardDeck className=\"datadeck\">\r\n                        {metricAreaCalculationsElements}\r\n                    </CardDeck>\r\n                    <div class=\"errorMsg\">\r\n                        <p>{this.state.invalidMetricCalc}</p>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n        // }\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <main>\r\n                    {content}\r\n                    {formContent}\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single metric area to render. Clicking a button\r\n// will render that metric area's calculations\r\nclass MetricAreaButton extends Component {\r\n\r\n    render() {\r\n        let typeString = this.props.metricName\r\n        return (\r\n            <button\r\n                class='selection'\r\n                type={typeString}\r\n                value={typeString}\r\n                onClick={() => this.props.metricFunc(this.props.metricName, this.props.metricID, this.props.metricActualEnabled, this.props.metricTargetEnabled)}\r\n            >\r\n                {typeString}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\n// Represesnts a single metric area calculation to render. Will render\r\n// depending on the metric area that was selected.\r\nclass MetricAreaCalcButton extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    render() {\r\n        let typeString = this.props.metricCalcName\r\n        return (\r\n            <button\r\n                onClick={() => this.props.metricCalcFunc(this.props.metricCalcID, typeString, this.props.metricCalcDataType)}\r\n                class='selection' type={typeString} value={this.props.metricCalcID}>{typeString}</button>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents entry form component. \r\n// This component will take in input from the user\r\n// for data entry. \r\nexport class DataEntryForm extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    timeDisplayType(selectTf) {\r\n        let x = null\r\n        switch ((selectTf)) {\r\n            case \"metricGoalsMonth\":\r\n                x = (\r\n                    <p>Month: <b>{this.props.tfValue}</b></p>\r\n                )\r\n                break;\r\n            case \"metricGoalsQuarters\":\r\n                x = (\r\n                    <p>Quarter: <b>{this.props.tfValue}</b></p>\r\n                )\r\n                break;\r\n            case \"metricGoalsAnnuals\":\r\n                let year = new Date()\r\n                year = year.getFullYear()\r\n                x = (\r\n                    <p>Annual: {year} </p>\r\n                )\r\n                break;\r\n        }\r\n        return x\r\n    }\r\n\r\n    render() {\r\n        let content = null\r\n        let timeDisplay = this.props.timeDisplay(this.props.selectTF)\r\n        let dataDisplay = this.props.dataDisplay(this.props.selectedMetricAreaCalculationDataType)\r\n        let timeDisplayType = this.timeDisplayType(this.props.selectTF)\r\n        let selectTimeDisplay = null\r\n\r\n        // Will switch content to be the preview\r\n        if (this.props.preview) {\r\n            content = (\r\n                <div>\r\n                    <div>\r\n                        <h2> Summary of Entered Data </h2>\r\n                        <p>Metric Area: <b>{this.props.metricAreaName}</b></p>\r\n                        <p>Metric: <b>{this.props.selectedMetricAreaCalculationName}</b></p>\r\n                        {timeDisplayType}\r\n                        <p>Data Type (Actual/Target): <b>{this.props.radio}</b></p>\r\n                        <p>Data: <b>{this.props.data}</b></p>\r\n                        <p>Highlight: <b>{this.props.highlight}</b></p>\r\n                        <p>Lowlight: <b>{this.props.lowlight}</b></p>\r\n                        <p>Month: <b>{this.props.tfValue}</b></p>\r\n                        <p>MitigationPlan: <b>{this.props.mitigation}</b></p>\r\n                    </div>\r\n                    <button class=\"preview\"\r\n                        onClick={(e) => this.props.editForm(e)}>Edit Data</button>\r\n                    <button class=\"preview\"\r\n                        onClick={() => this.props.submitForm(this.props.selectedMetricAreaCalculationDataType, this.props.selectTF, this.props.tfValue, this.props.selectedMetricAreaCalculations,\r\n                            this.props.radio, this.props.data, this.props.highlight,\r\n                            this.props.lowlight, this.props.mitigation)}>\r\n                        Submit\r\n                    </button>\r\n                    <p>\r\n                        {this.props.noActual}\r\n                    </p>\r\n                    <p>\r\n                        {this.props.dataSubmitted}\r\n                    </p>\r\n                </div>\r\n            )\r\n        } else {\r\n            if (this.props.targetEn || this.props.adminPermissions) {\r\n                selectTimeDisplay = (\r\n                    <div>\r\n                        <h2 className=\"InputOption\">Select a Time Frame <span class=\"required\">*</span> </h2>\r\n                        <select\r\n                            onChange={(e) => this.props.updateChange(e)} name=\"selectTF\">\r\n                            <option value=\"metricGoalsMonths\">Month</option>\r\n                            <option value=\"metricGoalsQuarters\">Quarter</option>\r\n                            <option value=\"metricGoalsAnnuals\">Annual</option>\r\n                        </select>\r\n                        {timeDisplay}\r\n                    </div>\r\n                )\r\n            } else if (this.props.actualEn) {\r\n                selectTimeDisplay = (\r\n                    <div>\r\n                        <p>\r\n                            Inserting actual data for the previous month\r\n                        </p>\r\n                    </div>\r\n                )\r\n            }\r\n            content = (\r\n                <div>\r\n                    <form>\r\n                        <h2 class='InputOption'> Select a Data Type <span class=\"required\">*</span> </h2>\r\n                        <div class='CheckBoxes'>\r\n                            <div class='check-one'>\r\n                                <input class='box' type=\"checkbox\" id=\"Target\" name=\"Target\" value=\"Target\" onChange={(e) => this.props.updateTCheckForm(e)}\r\n                                    checked={this.props.targetEn}\r\n                                />\r\n                                <label class='check' for=\"Target\">Target </label>\r\n                            </div>\r\n                            <div class='check-one'>\r\n                                <input class='box' type=\"checkbox\" id=\"Actual\" name=\"Actual\" value=\"Actual\" onChange={(e) => this.props.updateACheckForm(e)}\r\n                                    checked={this.props.actualEn}\r\n                                />\r\n                                <label class='check' for=\"Actual\">Actual</label>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                        <p>\r\n                                {this.props.actualDisabledMsg}\r\n                            </p>\r\n                        </div>\r\n                        <div>\r\n                            <p>\r\n                                {this.props.invalidRadio}\r\n                            </p>\r\n                        </div>\r\n                        {selectTimeDisplay}\r\n\r\n                        {dataDisplay}\r\n                        <div>\r\n                            <p>\r\n                                {this.props.invalidData}\r\n                            </p>\r\n                        </div>\r\n                        <p class='textInput'>\r\n                            <label for=\"lname\">Highlights</label>\r\n                            <textarea\r\n                                placeholder=\"Write about what went well...\"\r\n                                onChange={(e) => this.props.updateChange(e)}\r\n                                value={this.props.highlight} type=\"text\" id=\"form\" name=\"highlight\" />\r\n                        </p>\r\n                        <p class='textInput'>\r\n                            <label for=\"lname\">Lowlights </label>\r\n                            <textarea\r\n                                placeholder=\"Write about what did not go well...\"\r\n                                onChange={(e) => this.props.updateChange(e)}\r\n                                value={this.props.lowlight} type=\"text\" id=\"form\" name=\"lowlight\" />\r\n                        </p>\r\n                        <p class='textInput'>\r\n                            <label for=\"lname\">Mitigation Plan</label>\r\n                            <textarea\r\n                                onChange={(e) => this.props.updateChange(e)}\r\n                                value={this.props.mitigation} type=\"text\" id=\"form\" name=\"mitigation\" />\r\n                        </p>\r\n                    </form>\r\n\r\n                    <div>\r\n                        <p>\r\n                            {this.props.errorMsg}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={() => this.props.previewForm(this.props.check())}\r\n                        class=\"preview\">Preview</button>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/FAQ.css';\r\nimport './index.js';\r\n\r\nimport FAQ1 from './img/FAQ1.png';\r\nimport FAQ2 from './img/FAQ2.png';\r\n\r\nexport class FAQ extends Component {\r\n    render() {\r\n        return(\r\n            <div className = \"body\">\r\n                <h1 class = \"title\"> Frequently Asked Questions & Answers</h1>\r\n\r\n                <div class = \"block\">\r\n                    <h3 class=\"questions\"> Will I be able to log in with any email? </h3>\r\n                    <p> You can only log in with your SightLife email. Only metric owners \r\n                        set for each metric area by the admin can login. \r\n                    </p>\r\n\r\n                    <h3 class=\"questions\"> What if I enter the wrong data and I need to change it? </h3>\r\n                    <p>If it is within the first two weeks of the month, go in and re-enter as may times as \r\n                        you need. If it's after the closed period - contact the admin to change any entries.\r\n                    </p>\r\n\r\n                    <h3 class=\"questions\"> What if I can't remember if I have already entered the data?</h3>\r\n                    <p> Go to the dashboard and click on your metric area, the tables you see should be able to \r\n                        show if you have entered the data or not. \r\n                    </p>\r\n                    <img class=\"FAQ1\" src={ FAQ1 } />\r\n\r\n                    <h3 class=\"questions\"> If I am the metric owner for CDS, can I see other metric area data?</h3>\r\n                    <p>You can see data for other metric areas/ Go to the Metrics page and click on any of the metric \r\n                        areas that you want to take a look at. \r\n                    </p>\r\n                    <img class=\"FAQ1\" src={ FAQ2 } />\r\n\r\n                    <h3 class=\"questions\"> Can I add another metric owner? </h3>\r\n                    <p> Only the admin can add another metric owner. They can do this by accessing the \"user-permissions\" tab\r\n                        on the admin panel. \r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Table, Button } from 'reactstrap';\r\n\r\nimport './index.js';\r\nimport './css/DashBoard.css';\r\nimport * as d3 from 'd3';\r\nimport firebase from 'firebase/app';\r\n\r\nexport class DashBoard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        let year = new Date()\r\n        year = year.getFullYear().toString()\r\n        // this.handleYearChange = this.handleYearChange.bind(this)\r\n\r\n        this.state = {\r\n            currentYear: year,\r\n            monthsYearsMap: new Map(),\r\n            quartersYearsMap: new Map(),\r\n            annualsYearsMap: new Map(),\r\n            selectedYearMap: new Map(),\r\n            selectedQuarterMap: new Map(),\r\n            selectedAnnualMap: new Map()\r\n        }\r\n    }\r\n\r\n    // Do any information retrieval here\r\n    componentDidMount() {\r\n        d3.selectAll(\"svg\").remove();\r\n        d3.selectAll(\"div.tooltip\").remove();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        d3.selectAll(\"svg\").remove();\r\n        d3.selectAll(\"div.tooltip\").remove();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    barChart() {\r\n        d3.selectAll(\"svg\").remove();\r\n        d3.selectAll(\"div.tooltip\").remove();\r\n        if (this.props.selectedYearMap.length > 0 && this.props.selectedYearMap[1].dataType != \"text\") {\r\n        var datatype\r\n\r\n        var margin = {top: 30, right: 100, bottom: 70, left: 130},\r\n        width = 1200 - margin.left - margin.right,\r\n        height = 300 - margin.top - margin.bottom;\r\n\r\n        var svg = d3\r\n            .select(\"body\")\r\n            .append(\"svg\")\r\n            .attr(\"width\", '100%')\r\n            .attr(\"height\", '100%')\r\n            .attr('viewBox', '-100 0 1500 350')\r\n            .attr('preserveAspectRatio', 'xMinYMin')\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    \r\n        var dataset = [];\r\n        for(let i = 0; i <= 3; i++ ) {\r\n            var actualsCounter = 0;\r\n            var targetsCounter = 0;\r\n\r\n         var actual = 0\r\n         var target = 0\r\n\r\n         let monthObj1 = this.props.selectedYearMap[i * 3 + 1]\r\n        if (monthObj1) {\r\n            if(parseInt(monthObj1.actual, 10)) {\r\n                actual += parseInt(monthObj1.actual, 10) \r\n                actualsCounter++\r\n            }\r\n            if(parseInt(monthObj1.target, 10)) {\r\n                target += parseInt(monthObj1.target, 10)\r\n                targetsCounter++\r\n             }\r\n             datatype = monthObj1.dataType\r\n\r\n        }\r\n        \r\n        let monthObj2 = this.props.selectedYearMap[i * 3 + 2]\r\n        if (monthObj2) {\r\n            if(parseInt(monthObj2.actual, 10)) {\r\n                actual += parseInt(monthObj2.actual, 10) \r\n                actualsCounter++\r\n            }\r\n            if(parseInt(monthObj2.target, 10)) {\r\n                target += parseInt(monthObj2.target, 10)\r\n                targetsCounter++\r\n             }\r\n             datatype = monthObj2.dataType\r\n\r\n        }\r\n\r\n        let monthObj3 = this.props.selectedYearMap[i * 3 + 3]\r\n        if (monthObj3) {\r\n            if(parseInt(monthObj3.actual, 10)) {\r\n                actual += parseInt(monthObj3.actual, 10) \r\n                actualsCounter++\r\n            }\r\n            if(parseInt(monthObj3.target, 10)) {\r\n                target += parseInt(monthObj3.target, 10)\r\n                targetsCounter++\r\n             }\r\n             datatype = monthObj3.dataType\r\n        }\r\n\r\n         if (datatype == \"percent\") {\r\n            actual = actual / actualsCounter\r\n            target = target / targetsCounter;\r\n         }\r\n\r\n          dataset[i] = {\r\n            date: \"Quarter \" + (i + 1),\r\n            values: [\r\n            {name: 'Actuals', value:actual},\r\n            {name: 'Target', value:target}\r\n            ]\r\n          };\r\n        }\r\n\r\n    var actualRange = d3.extent(dataset, d => d.values[0].value);\r\n    var targetRange = d3.extent(dataset, d => d.values[1].value);\r\n\r\n        // X-Axis (Containing the months)\r\n        var x0 = d3.scaleBand()\r\n        .domain(dataset.map(function(d) { return d.date; }))\r\n        .rangeRound([0, width], .4);\r\n      \r\n      // A-Axis (The BARS)\r\n      var x1 = d3.scaleBand()\r\n        .domain(['Actuals', 'Target'])\r\n        .rangeRound([15, x0.bandwidth()]);\r\n  \r\n      // Left Axis (Contains Left Ticks)\r\n      var y0 = d3.scaleLinear()\r\n      .domain([0, Math.max(actualRange[1] || 0, targetRange[1] || 0)])\r\n      .nice()\r\n      .range([height, 0]);\r\n\r\n  var maxValue = Math.max(actualRange[1] || 0, targetRange[1] || 0)\r\n  console.log(maxValue)\r\n  if (datatype == \"percent\") {\r\n      y0.domain([0, Math.max(100,maxValue)])\r\n  }\r\n  \r\n      var color = d3.scaleOrdinal()\r\n        .range([\"#D5D1E9\", \"#9991C6\"]);\r\n  \r\n      var xAxis = d3\r\n        .axisBottom(x0)\r\n  \r\n      var yAxisLeft = d3\r\n          .axisLeft(y0)\r\n          .tickFormat(function(d) { return parseInt(d) });\r\n\r\n          var formatComma = d3.format(\",\")\r\n\r\n          // FORMAT TICKS FOR MONEY AND PERCENT\r\n        if (datatype == \"percent\") {\r\n            yAxisLeft.tickFormat(function(d) { return parseInt(d) + \"%\" })\r\n        } else if (datatype == \"money\") {\r\n            yAxisLeft.tickFormat(function(d) { return \"$\" + formatComma(d); })\r\n            console.log(\"reached MONAY\")\r\n        }\r\n  \r\n      // Ticks on x-axis and y-axis\r\n      svg.append(\"g\")\r\n          .attr(\"class\", \"x axis\")\r\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n          .call(xAxis);\r\n  \r\n      // (Left Side) Y Label (ACTUALS)\r\n      svg.append(\"g\")\r\n          .attr(\"class\", \"y0 axis\")\r\n          .call(yAxisLeft)\r\n        .append(\"text\")\r\n          .attr(\"transform\", \"rotate(-90)\")\r\n          .attr(\"y\", 6)\r\n          .attr(\"dy\", \".71em\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .style(\"font-size\", \"12\")\r\n          .style(\"fill\", \"#9991C6\")\r\n          .text(\"Values\");\r\n  \r\n      // Actuals TICKS\r\n      svg.select('.y0.axis')\r\n        .selectAll('.tick')\r\n          .style(\"fill\", \"black\");  \r\n    \r\n      // MONTHS LABELS \r\n      svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + 250 + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Quarters\");\r\n\r\n        svg.append(\"text\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (-15) + \")\")\r\n        .style(\"font-size\", \"12\")\r\n        .text(\"Actuals vs. Targets Quarterly\");\r\n        \r\n    var div = d3\r\n        .select(\"body\")\r\n        .append(\"div\")\r\n        .attr(\"class\", \"tooltip\")\r\n        .style(\"opacity\", 0); \r\n\r\n        var drawRect = ele => {\r\n            ele\r\n                .attr(\"width\", x1.bandwidth())\r\n                .attr(\"x\", function(d) { return x1(d.name); })\r\n                .attr(\"y\", function(d) { return y0(d.value); })\r\n                .attr(\"height\", function(d) { return height - y0(d.value); })\r\n                .style(\"fill\", function(d) { return color(d.name); })\r\n            };\r\n\r\n      var graph = svg\r\n          .selectAll(\".date\")\r\n          .data(dataset)\r\n          .enter()\r\n          .append(\"g\")\r\n            .attr(\"class\", \"g\")\r\n            .attr(\"transform\", function(d) { return \"translate(\" + x0(d.date) + \",0)\"; });\r\n\r\n        graph\r\n            .selectAll(\"rect\")\r\n            .data(function(d) { return d.values; })\r\n            .join(\"rect\")\r\n                .on('mouseover', function (d, i) {\r\n                    d3.select(this)\r\n                        .transition()\r\n                        .duration(200)\r\n                    div.transition()\r\n                        .duration(100)\r\n                        .style(\"opacity\", 1);\r\n                    if (datatype == \"percent\") {\r\n                        div.html(d.name + \": \" + d.value + \"%\")\r\n                            .style(\"left\", (d3.event.pageX) + \"px\")\r\n                            .style(\"top\", (d3.event.pageY) + \"px\");\r\n                    } else if (datatype == \"money\") {\r\n                        div.html(d.name + \":  $\" + d.value)\r\n                            .style(\"left\", (d3.event.pageX) + \"px\")\r\n                            .style(\"top\", (d3.event.pageY) + \"px\");\r\n                    } else {\r\n                        div.html(d.name + \" \" + d.value)\r\n                            .style(\"left\", (d3.event.pageX) + \"px\")\r\n                            .style(\"top\", (d3.event.pageY) + \"px\");\r\n                    }\r\n                })\r\n    \r\n                .on('mouseout', function (d, i) {\r\n                    d3.select(this).transition()\r\n                        .duration(200)\r\n            \r\n                    div.transition()\r\n                        .duration(200)\r\n                        .style(\"opacity\", 0);\r\n                })\r\n                .call(drawRect)\r\n\r\n        const tip = svg\r\n            .append(\"g\")\r\n            .style(\"pointer-events\", \"none\");\r\n        \r\n        const tipText = tip\r\n            .append(\"text\")\r\n            .style(\"text-anchor\", \"middle\");\r\n\r\n      // Legend\r\n      var legend = svg\r\n          .selectAll(\".legend\")\r\n          .data(['Actuals', 'Target'].slice())\r\n          .enter()\r\n          .append(\"g\")\r\n            .attr(\"class\", \"legend\")\r\n            .attr(\"transform\", function(d, i) { return \"translate(90,\" + i * 20 + \")\"; });\r\n  \r\n      legend.append(\"rect\")\r\n          .attr(\"x\", width - 20)\r\n          .attr(\"width\", 18)\r\n          .attr(\"height\", 18)\r\n          .style(\"fill\", color);\r\n  \r\n      legend.append(\"text\")\r\n          .attr(\"x\", width - 25)\r\n          .attr(\"y\", 9)\r\n          .attr(\"dy\", \".35em\")\r\n          .style(\"text-anchor\", \"end\")\r\n          .text(function(d) { return d; });\r\n          \r\n        }\r\n    }\r\n\r\n\r\n    svgRender() {\r\n        return <svg id=\"bar-chart\" ref={this.barChart()}\r\n            width={860} height={210} />\r\n    }\r\n\r\n\r\n    lineChart() {\r\n        if (this.props.selectedYearMap.length > 0 && this.props.selectedYearMap[1].dataType != \"text\") {\r\n        var margin = {top: 30, right: 100, bottom: 70, left: 130},\r\n        width = 1200 - margin.left - margin.right,\r\n        height = 300 - margin.top - margin.bottom;\r\n    \r\n        var svg = d3\r\n        .select(\"body\")\r\n        .append(\"svg\")\r\n        .attr(\"width\", '100%')\r\n        .attr(\"height\", '100%')\r\n        .attr('viewBox', '-100 0 1500 350')\r\n        .attr('preserveAspectRatio', 'xMinYMin')\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n    \r\n            const data = []\r\n            var datatype\r\n            for (let i = 0; i <= 11; i++) {\r\n                let monthObj = this.props.selectedYearMap[i + 1]\r\n                if (monthObj) {\r\n                    // Need to do some work based on the data type received for the metric\r\n                    // cannot always assume it's an int\r\n                    datatype = monthObj.dataType\r\n                    const actual = parseInt(monthObj.actual, 10)\r\n                    console.log(actual)\r\n                    const target = parseInt(monthObj.target, 10)\r\n                    data[i] = ({\r\n                        month: i + 1,\r\n                        actual: actual,\r\n                        target: target\r\n                    })\r\n                } else {\r\n                    data[i] = ({\r\n                        month: i + 1,\r\n                        actual: undefined,\r\n                        target: undefined\r\n                    })\r\n                }\r\n            }\r\n        \r\n        var dataset = [];\r\n    \r\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \r\n                        \"September\", \"October\", \"November\", \"December\"]\r\n    \r\n        for(let i = 0; i < data.length; i++ ) {\r\n            dataset[i] = {\r\n              date: months[i],\r\n              values: [\r\n              {name: 'Actuals', value: data[i].actual},\r\n              {name: 'Target', value: data[i].target}\r\n              ]\r\n            };\r\n        }\r\n    \r\n                    var actualRange = d3.extent(dataset, d => d.values[0].value);\r\n                    var targetRange = d3.extent(dataset, d => d.values[1].value);\r\n                \r\n                    // SET RANGES (SCALES)\r\n            // WHAT APPEARS ON THE X-AXIS \r\n            var x0 = d3.scalePoint()\r\n            .domain(dataset.map(function(d) { return d.date; }))\r\n            .rangeRound([0, width], .4);\r\n        \r\n        // What appears on the y-axis\r\n        var y0 = d3.scaleLinear()\r\n            .domain([0, Math.max(actualRange[1] || 0, targetRange[1] || 0)])\r\n            .range([height, 0]);\r\n    \r\n        var maxValue = Math.max(actualRange[1] || 0, targetRange[1] || 0)\r\n        console.log(maxValue)\r\n        if (datatype == \"percent\") {\r\n            y0.domain([0, Math.max(100,maxValue)])\r\n        }\r\n        console.log(y0)\r\n\r\n\r\n        // X-AXIS (VISUALS)\r\n        var xAxis = d3\r\n            .axisBottom(x0);\r\n    \r\n        // Y-AXIS (VISUALS)\r\n        var yAxisLeft = d3\r\n            .axisLeft(y0)\r\n            .tickFormat(function(d) { return parseInt(d) });\r\n    \r\n            var formatComma = d3.format(\",\")\r\n\r\n        // FORMAT TICKS FOR MONEY AND PERCENT\r\n        if (datatype == \"percent\") {\r\n            yAxisLeft.tickFormat(function(d) { return parseInt(d) + \"%\" })\r\n        } else if (datatype == \"money\") {\r\n            yAxisLeft.tickFormat(function(d) { return \"$\" + formatComma(d); })\r\n            console.log(\"reached MONAY\")\r\n        }\r\n        // ACTUALS LINE\r\n        var actual_line = d3\r\n        .line()\r\n        .defined(d => !isNaN(d.values[0].value))\r\n            .x(d => x0(d.date))\r\n            .y(d => y0(d.values[0].value));\r\n    \r\n        // TARGET LINE\r\n        var target_line = d3\r\n        .line()\r\n        .defined(d => !isNaN(d.values[1].value))\r\n            .x(d => x0(d.date))\r\n            .y(d => y0(d.values[1].value));\r\n    \r\n        // Ticks on x-axis and y-axis\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"x0 axis\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .call(xAxis);\r\n    \r\n        // (Left Side) Y Label (ACTUALS)\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"y0 axis\")\r\n            .call(yAxisLeft)\r\n            .append(\"text\")\r\n            .attr(\"transform\", \"rotate(-90)\")\r\n            .attr(\"y\", 6)\r\n            .attr(\"dy\", \".71em\")\r\n            .style(\"text-anchor\", \"end\")\r\n            .style(\"font-size\", \"12\")\r\n            .style(\"fill\", \"#D5D1E9\")\r\n            .text(\"Values\");\r\n    \r\n        // Actuals TICKS\r\n        svg.select('.y0.axis')\r\n            .selectAll('.tick')\r\n            .style(\"fill\", \"black\");\r\n    \r\n        // MONTHS LABELS \r\n        svg.append(\"text\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + 250 + \")\")\r\n            .style(\"font-size\", \"12\")\r\n            .text(\"Months\")\r\n    \r\n        svg.append(\"text\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (-15) + \")\")\r\n            .style(\"font-size\", \"12\")\r\n            .text(\"Actuals vs. Targets Monthly\")\r\n        console.log(datatype)\r\n        // COLOR\r\n        var color = d3.scaleOrdinal()\r\n            .range([\"#D5D1E9\", \"#9991C6\"]);\r\n    \r\n        // ACTUAL LINE LINE\r\n        svg\r\n        .append(\"path\")\r\n        .datum(dataset)\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"stroke\", \"#D5D1E9\")\r\n        .attr(\"stroke-width\", 3)\r\n        .attr(\"stroke-linejoin\", \"round\")\r\n        .attr(\"stroke-linecap\", \"round\")\r\n        .attr(\"d\", actual_line)\r\n    \r\n        // TARGET LINE\r\n        svg\r\n        .append(\"path\")\r\n        .datum(dataset)\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"stroke\", \"#9991C6\")\r\n        .attr(\"stroke-width\", 3)\r\n        .attr(\"stroke-linejoin\", \"round\")\r\n        .attr(\"stroke-linecap\", \"round\")\r\n        .attr(\"d\", target_line);  \r\n\r\n       // FOR HOVERING\r\n       var div = d3\r\n       .select(\"body\")\r\n       .append(\"div\")\r\n       .attr(\"class\", \"tooltip\")\r\n       .style(\"opacity\", 0);\r\n\r\n   // ACTUALS\r\n   svg\r\n   .selectAll(\"dot\")\r\n   .data(dataset)\r\n   .enter()\r\n       .append(\"circle\")\r\n   .attr(\"cx\", d => x0(d.date))\r\n   .attr(\"cy\", d => y0(d.values[0].value))\r\n   .attr(\"r\", 3)\r\n   .attr(\"fill\", \"black\")\r\n   .attr(\"opacity\", 0.7)\r\n   .on('mouseover', function (d, i) {\r\n       d3.select(this).transition()\r\n           .duration('100')\r\n           .attr(\"r\", 7);\r\n       div.transition()\r\n           .duration(100)\r\n           .style(\"opacity\", 1);\r\n           if (datatype === \"percent\") {\r\n            div.html(\"Actuals: \"+ d.values[0].value + \"%\")\r\n                .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n                .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n        } else if (datatype === \"money\") {\r\n            div.html(\"Actuals: \" + d.values[0].value)\r\n                .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n                .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n        } else {\r\n            div.html(\"Actuals: \" + d.values[0].value)\r\n                .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n                .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n       }\r\n   })\r\n   .on('mouseout', function (d, i) {\r\n       d3.select(this).transition()\r\n           .duration(200)\r\n           .attr(\"r\", 3);\r\n       div.transition()\r\n           .duration(200)\r\n           .style(\"opacity\", 0);\r\n   })\r\n   .filter(d => isNaN(d.values[0].value)).remove();\r\n\r\n   // TARGET\r\n   svg\r\n   .selectAll(\"dot\")\r\n   .data(dataset)\r\n   .enter()\r\n   .append(\"circle\")\r\n   .attr(\"cx\", d => x0(d.date))\r\n   .attr(\"cy\", d => y0(d.values[1].value))\r\n   .attr(\"r\", 3)\r\n   .attr(\"fill\", \"black\")\r\n   .attr(\"opacity\", 0.7)\r\n   .on('mouseover', function (d, i) {\r\n       d3.select(this).transition()\r\n           .duration('100')\r\n           .attr(\"r\", 7);\r\n       div.transition()\r\n           .duration(100)\r\n           .style(\"opacity\", 1);\r\n\r\n       if (datatype == \"percent\") {\r\n           div.html(\"Target: \" + d.values[1].value + \"%\")\r\n               .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n               .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n       } else if (datatype == \"money\") {\r\n           div.html(\"Target: $\" + d.values[1].value)\r\n               .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n               .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n       } else {\r\n           div.html(\"Target: \" + d.values[1].value)\r\n               .style(\"left\", (d3.event.pageX + 10) + \"px\")\r\n               .style(\"top\", (d3.event.pageY - 15) + \"px\");\r\n       }\r\n   })\r\n   .on('mouseout', function (d, i) {\r\n       d3.select(this).transition()\r\n           .duration('200')\r\n           .attr(\"r\", 3);\r\n       div.transition()\r\n           .duration('200')\r\n           .style(\"opacity\", 0);\r\n   })\r\n   .filter(d => isNaN(d.values[1].value)).remove();\r\n    \r\n        // LEGEND (BOXES)\r\n        var legend = svg\r\n            .selectAll(\".legend\")\r\n            .data(['Actuals', 'Target'].slice())\r\n            .enter()\r\n            .append(\"g\")\r\n                .attr(\"class\", \"legend\")\r\n                .attr(\"transform\", function(d, i) { return \"translate(90,\" + i * 20 + \")\"; });\r\n    \r\n        legend.append(\"rect\")\r\n            .attr(\"x\", width - 20)\r\n            .attr(\"width\", 18)\r\n            .attr(\"height\", 18)\r\n            .style(\"fill\", color);\r\n    \r\n        legend.append(\"text\")\r\n            .attr(\"x\", width - 25)\r\n            .attr(\"y\", 9)\r\n            .attr(\"dy\", \".35em\")\r\n            .style(\"text-anchor\", \"end\")\r\n            .text(function(d) { return d; });\r\n        }\r\n    }\r\n\r\n    svgRenderLine() {\r\n        return <svg id=\"line-chart\" ref={this.lineChart()}\r\n            width={860} height={210} />\r\n    }\r\n    // Renders information for annuals for\r\n    // the selected metric calculation and year\r\n    annualsArrayElements() {\r\n        let annualArrayInfo = []\r\n        let actual = 0\r\n        let target = 0\r\n        let monthObjColor\r\n        let color\r\n\r\n        for (let i = 0; i < 11; i++) {\r\n            let monthObj = this.props.selectedYearMap[i + 1]\r\n            if (monthObj) {\r\n                const monthActual = parseInt(monthObj.actual, 10) || 0\r\n                const monthTarget = parseInt(monthObj.target, 10) || 0\r\n                actual += monthActual\r\n                target += monthTarget\r\n                monthObjColor = monthObj\r\n            }\r\n        }\r\n\r\n        if (monthObjColor) {\r\n            color = this.actualColor(actual, target, monthObjColor.dataType)\r\n        }\r\n\r\n        annualArrayInfo[0] = (\r\n            <MetricAnnuals\r\n                year={this.state.selectedYear}\r\n                actual={actual}\r\n                target={target}\r\n                color={color}\r\n            />\r\n        )\r\n        return annualArrayInfo\r\n    }\r\n\r\n    arrayElements() {\r\n        const test = Array.from(this.props.metricAreaCalculations.entries()).map((key) => {\r\n            //Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricCalculationRow\r\n                metrics={key[1].calcMetric}\r\n                metricCalc={key[1].calcName}\r\n                metricCalcID={key[1].calcID}\r\n            />\r\n        })\r\n        return test\r\n    }\r\n\r\n    yearElements() {\r\n        const test = Array.from(this.props.monthsYearsMap.entries()).map((key) => {\r\n             return <YearElement\r\n                year={key[0]}\r\n                yearFunc={this.props.handleYearChange} />\r\n        })\r\n        return test\r\n    }\r\n\r\n    render() {\r\n        const metricElements = this.arrayElements()\r\n        let yearElements = this.yearElements()\r\n\r\n        const barChart = this.svgRender()\r\n        const lineChart = this.svgRenderLine()\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <div id=\"titleElements\">\r\n                    <button id=\"back-arrow\"\r\n                        onClick={(e) => this.props.goBack(e)}>\r\n                        &larr;\r\n                    </button>\r\n                    <h1 id=\"metrictitle\"> {this.props.metricAreaInfo} </h1>\r\n                </div>\r\n                <div>\r\n                    <div className=\"options\">\r\n                        <div\r\n                            className=\"dropTitle\"\r\n                        ><strong>Metric: </strong></div>\r\n                        <select className=\"options\"\r\n\r\n                            onChange={(e) => this.props.handleCalChange(e)}>\r\n                            <option value=\"None\" disabled selected>None</option>\r\n                            {metricElements}\r\n                        </select>\r\n\r\n\r\n                        {/* Once a metric is selected,\r\n                    fill in depending on how many keys\r\n                    and enable */}\r\n                        <div className=\"dropTitle\"><strong>Year: </strong></div>\r\n                        <select\r\n                            disabled={this.state.selectEnable}\r\n                            name=\"selectedYear\"\r\n                            onChange={(e) => this.props.handleYearChange(e)}>\r\n                            <option value=\"\" disabled selected>Select a Year</option>\r\n                            {yearElements}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                {/* Container for current  */}\r\n                <div>\r\n\r\n                {barChart}\r\n                    {lineChart}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single year <option> element in the\r\n// select drop-down.\r\nexport class YearElement extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.year}>\r\n                {this.props.year}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single row in the metric/metric calculations table\r\n// Contains all metric name and metric calculation names for a metric area\r\nclass MetricCalculationRow extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.metrics}\r\n                id={this.props.metricCalcID}>\r\n                {this.props.metrics}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricMonthly extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    month(num) {\r\n        switch (num) {\r\n            case 1:\r\n                return \"January\"\r\n            case 2:\r\n                return \"February\"\r\n            case 3:\r\n                return \"March\"\r\n            case 4:\r\n                return \"April\"\r\n            case 5:\r\n                return \"May\"\r\n            case 6:\r\n                return \"June\"\r\n            case 7:\r\n                return \"July\"\r\n            case 8:\r\n                return \"August\"\r\n            case 9:\r\n                return \"September\"\r\n            case 10:\r\n                return \"October\"\r\n            case 11:\r\n                return \"November\"\r\n            case 12:\r\n                return \"December\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let actualValue = this.props.actual\r\n        let monthValue = this.month(this.props.month)\r\n        // let color = this.actualColor(this.props.actual, this.props.target, this.props.datatype)\r\n        // console.log(color)\r\n        let color = \"green\"\r\n\r\n        // If there is no value existing for the actual yet\r\n        if (!actualValue) {\r\n            actualValue = \"N/A\"\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"title\">{monthValue}</h2>\r\n                <Table responsive>\r\n                    <tbody className=\"table\">\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                            <th className=\"lowHigh\">Highlights</th>\r\n                            <th className=\"lowHigh\">Lowlights</th>\r\n                            <th className=\"lowHigh\">Correction of Error</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{ backgroundColor: this.props.color }} className=\"values\">{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                            <th className=\"lowHigh\">{this.props.highlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.lowlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.coe}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// QUARTER TABLES\r\nclass MetricQuarterly extends Component {\r\n    render() {\r\n        let actualValue = this.props.actual\r\n        let quarterValue = \"Quarter \" + this.props.quarter\r\n\r\n        // If there is no value existing for the actual yet\r\n        if (!actualValue) {\r\n            actualValue = \"N/A\"\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"Qtitle\">{quarterValue}</h2>\r\n                <Table responsive className=\"quarters\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                        </tr>\r\n                        <tr>\r\n                            {/* This should be auto-calculated based upon month values */}\r\n                            <th className=\"values\" style={{ backgroundColor: this.props.color }}>{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAnnuals extends Component {\r\n    render() {\r\n        let actualValue = this.props.actual\r\n        // If there is no value existing for the actual yet\r\n        if (!actualValue) {\r\n            actualValue = \"N/A\"\r\n        }\r\n        return (\r\n            <div>\r\n                <h2 className=\"Atitle\">Annual Information {this.props.year} </h2>\r\n                <Table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th className=\"values\">Actual</th>\r\n                            <th className=\"values\">Target</th>\r\n                            <th className=\"lowHigh\">Highlights</th>\r\n                            <th className=\"lowHigh\">Lowlights</th>\r\n                            <th className=\"lowHigh\">Correction of Error</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th className=\"values\" style={{ backgroundColor: this.props.color }}>{actualValue}</th>\r\n                            <th className=\"values\">{this.props.target}</th>\r\n                            <th className=\"lowHigh\">{this.props.highlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.lowlights}</th>\r\n                            <th className=\"lowHigh\">{this.props.coe}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport { Button, ButtonGroup, ButtonToolbar } from 'reactstrap';\r\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardDeck, CardGroup } from 'reactstrap';\r\nimport './css/HistoricalData.css';\r\nimport './index.js';\r\nimport firebase from 'firebase/app';\r\nimport { DashBoard, YearElement } from './VisualizationsDashboard';\r\n\r\n\r\nexport class Visualizations extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let year = new Date()\r\n        year = year.getFullYear().toString()\r\n\r\n        this.retrieveInfo = this.retrieveInfo.bind(this)\r\n        this.handleCalChange = this.handleCalChange.bind(this)\r\n        this.handleYearChange = this.handleYearChange.bind(this)\r\n        this.goBack = this.goBack.bind(this)\r\n\r\n        this.state = {\r\n            // Data to be passed into metric calculations\r\n            // Represents metricAreaName\r\n            metricAreaInfo: null,   // Contains metric area name\r\n            metricAreaOwner: null,  // Contains metric area owner name\r\n            metricAreaCalculations: new Map(), // Represents all calculations for a metric area\r\n            metricAreaCalculationIDs: [],\r\n            dashboardEnabled: false,\r\n\r\n            // Dashboard State Items\r\n            currentYear: year,\r\n            monthsYearsMap: new Map(),\r\n            quartersYearsMap: new Map(),\r\n            annualsYearsMap: new Map(),\r\n            selectedYearMap: new Map(),\r\n            selectedQuarterMap: new Map(),\r\n            selectedAnnualMap: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    // Renders metric area cards \r\n    metricAreaElements() {\r\n        const metricAreaElements = Array.from(this.props.metrics.entries()).map((key) => {\r\n            // Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricAreaCard\r\n                metricName={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricNameFunc={this.retrieveInfo}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    retrieveInfo(name, id) {\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let metricCalcInfo = snapshot.val();\r\n            let databaseKeys = Object.keys(metricCalcInfo);\r\n            let mapCalculations = new Map()\r\n\r\n            databaseKeys.map((key) => {\r\n                let Mid = metricCalcInfo[key].metricAreaID\r\n                if (id === Mid) {\r\n                    mapCalculations.set(key, metricCalcInfo[key])\r\n                }\r\n            })\r\n            console.log(mapCalculations)\r\n            this.setInfo(mapCalculations, name, id)\r\n        });\r\n    }\r\n\r\n    // Callback to render new information\r\n    setInfo(mapCalculations, name, id) {\r\n        this.setState((state) => {\r\n            state.metricAreaCalculations = mapCalculations\r\n            state.dashboardEnabled = true\r\n            state.metricAreaID = id\r\n            state.metricAreaInfo = name\r\n            return state\r\n        })\r\n    }\r\n\r\n    goBack(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            state.dashboardEnabled = false\r\n            state.monthsYearsMap = new Map()\r\n            state.quartersYearsMap = new Map()\r\n            state.annualsYearsMap = new Map()\r\n            state.selectedYearMap = new Map()\r\n            state.selectedQuarterMap = new Map()\r\n            state.selectedAnnualMap = new Map()\r\n            return state\r\n        })\r\n    }\r\n\r\n    handleCalChange = (event) => {\r\n        let area = event.target.value\r\n        const selected = event.target.options.selectedIndex\r\n        let field = (event.target.options[selected].getAttribute('id'))\r\n        if (this.state.currentCalc && this.state.selectedYear && this.state.currentCalcID) {\r\n            this.informationMonthRerender(area, field, \"metricGoalsMonths\", this.state.selectedYear)\r\n            this.informationQuarterRerender(area, field, \"metricGoalsQuarters\", this.state.selectedYear)\r\n            this.informationAnnualRerender(area, field, \"metricGoalsAnnuals\", this.state.selectedYear)\r\n        } else {\r\n            let area = event.target.value\r\n            this.informationMonth(area, field, \"metricGoalsMonths\")\r\n            this.informationQuarter(area, field, \"metricGoalsQuarters\")\r\n            this.informationAnnuals(area, field, \"metricGoalsAnnuals\")\r\n        }\r\n    }\r\n\r\n    // Accepts two parameters,\r\n    // id and path, where id\r\n    // is the selected metric calculation id and\r\n    // path is the path to the specified times.\r\n    // Returns a map containing all information across years\r\n    // for that specific calculation id\r\n    informationMonth(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.monthsYearsMap = infoMap\r\n                state.selectEnable = false\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationMonthRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        let selectedMonthMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n            selectedMonthMap = infoMap.get(year)\r\n\r\n            console.log(infoMap)\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.monthsYearsMap = infoMap\r\n                state.selectedYearMap = selectedMonthMap\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationQuarter(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.quartersYearsMap = infoMap\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationQuarterRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        let selectedQuarterMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n            selectedQuarterMap = infoMap.get(year)\r\n\r\n            console.log(infoMap)\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.quartersYearsMap = infoMap\r\n                state.selectedQuarterMap = selectedQuarterMap\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationAnnuals(area, id, path) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n            this.setState((state) => {\r\n                state.annualsYearsMap = infoMap\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    informationAnnualRerender(area, id, path, year) {\r\n        let rootPath = firebase.database().ref(path + \"/\" + id)\r\n        let infoMap = new Map()\r\n\r\n        let selectedAnnualMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    infoMap.set(key, info[key])\r\n                })\r\n            }\r\n\r\n\r\n            selectedAnnualMap = infoMap.get(year)\r\n\r\n            this.setState((state) => {\r\n                state.currentCalc = area\r\n                state.currentCalcID = id\r\n                state.AnnualsYearsMap = infoMap\r\n                state.selectedAnnualMap = selectedAnnualMap\r\n                return state\r\n            })\r\n        })\r\n        return infoMap\r\n    }\r\n\r\n    renderYears() {\r\n        const test = Array.from(this.state.monthsYearsMap.entries()).map((key) => {\r\n            return <YearElement\r\n                year={key[0]}\r\n                yearFunc={this.handleYearChange} />\r\n        })\r\n        return test\r\n    }\r\n\r\n    // When a year is selected,\r\n    // retrieves information for the month, quarter, and selected year\r\n    // and pushes changes to state\r\n    handleYearChange(event) {\r\n        let selectedYear = event.target.value\r\n        let selectedYearMap = this.state.monthsYearsMap.get(selectedYear)\r\n        let selectedQuarterMap = this.state.quartersYearsMap.get(selectedYear)\r\n        let selectedAnnualMap = this.state.annualsYearsMap.get(selectedYear)\r\n        this.setState((state) => {\r\n            state.selectedYear = selectedYear\r\n            state.selectedYearMap = selectedYearMap\r\n            state.selectedQuarterMap = selectedQuarterMap\r\n            state.selectedAnnualMap = selectedAnnualMap\r\n            return state\r\n        })\r\n    }\r\n\r\n    resetYears() {\r\n        this.setState((state) => {\r\n            state.monthsYearsMap = new Map()\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const metricAreaElements = this.metricAreaElements()\r\n        const renderYears = this.renderYears()\r\n        console.log(renderYears)\r\n\r\n        let content = null\r\n\r\n        if (this.state.dashboardEnabled) {\r\n            content = (\r\n                <div>\r\n                    <DashBoard\r\n                        {...this.state}\r\n                        handleCalChange={this.handleCalChange}\r\n                        handleYearChange={this.handleYearChange}\r\n                        information={this.information}\r\n                        goBack={this.goBack}\r\n                    />\r\n                </div>\r\n            )\r\n        } else {\r\n            content = (\r\n                <div>\r\n                    <h1> Visualizations </h1>\r\n                    <CardDeck className='metricsDeck'>\r\n                        {metricAreaElements}\r\n                    </CardDeck>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaCard extends Component {\r\n    render() {\r\n        return (\r\n            <Button className='metrics'\r\n                onClick={() => this.props.metricNameFunc(this.props.metricName, this.props.metricID)}>\r\n                <strong>{this.props.metricName}</strong>\r\n            </Button>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './css/SignIn.css';\r\nimport './index.js';\r\n\r\nexport class SignIn extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\"\r\n        }\r\n    }\r\n\r\n    updateEmail(event) {\r\n        let eVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.email = eVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    updatePassword(event) {\r\n        let pVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.password = pVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    handleSignIn(e) {\r\n        e.preventDefault()\r\n        console.log(this.props)\r\n        this.props.handleSignIn(this.state.email, this.state.password)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class='form'>\r\n                <h1>Sign Into Your Account </h1>\r\n\r\n                <div className=\"SignBox\">\r\n                    <div>\r\n                        <label className = \"sign\" for='Email'>Email</label>\r\n                        <input\r\n                            onChange={(e) => this.updateEmail(e)}\r\n                            type='email' name='Email' required />\r\n                    </div>\r\n                    <div>\r\n                        <label className = \"sign\" for='Password'> Password</label>\r\n                        <input\r\n                            onChange={(e) => this.updatePassword(e)}\r\n                            type='password' name='Password' required />\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <Link id=\"forgotPassword\" to={'/Forgotpassword'}>Forgot Password?</Link>\r\n                </div>\r\n                <div>\r\n                    <button\r\n                        onClick={(e) => this.handleSignIn(e)}\r\n                        class='sign-in'>Sign In</button>\r\n                </div>\r\n                <div class='account'>\r\n                    <p class=\"account\">Don't have an account? </p>\r\n                </div>\r\n\r\n                <div class='account2'>\r\n                    <a class='create'> <Link to={'/Createaccount'}> Create Account</Link></a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/AdminPanelMetrics.css';\r\nimport './index.js';\r\n\r\nimport { AdminPanelNav } from './AdminPanel'\r\nimport { CardDeck } from 'reactstrap';\r\nimport More from './img/more.svg';\r\nimport firebase from 'firebase/app';\r\n\r\n// Not sure if AdminPanelNav is redundant. It is in the Admin panel js file\r\nexport class AdminPanelMetrics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.addRef = React.createRef();\r\n\r\n        this.editMetricArea = this.editMetricArea.bind(this)\r\n        this.closeModalE = this.closeModalE.bind(this)\r\n        this.retrieveMetricInfo = this.retrieveMetricInfo.bind(this)\r\n\r\n        this.state = {\r\n            // currentMetrics: this.props.metrics,\r\n            metrics: new Map(),\r\n            display : \"none\",\r\n            modalDisplay: \"none\",\r\n            archivedElements: new Map()\r\n        }\r\n    }\r\n\r\n    // Load currently archived metric areas\r\n    componentDidMount() {\r\n        this.retrieveArchivedMetricAreaElements()\r\n        this.retrieveMetricsList()\r\n    }\r\n\r\n    // Function for retrieving existing metrics\r\n    // Note: Separated this from renderMetricsList so that we can just\r\n    // pass in metricArea information to our components rather\r\n    // than retrieving everytime we need it.\r\n    // i.e - Retrieve once as opposed to retrieve multiple times.  \r\n    retrieveMetricsList = () => {\r\n        let rootPath = firebase.database().ref('metricAreas')\r\n\r\n        // Put all the metric areas in the this.state.metrics\r\n        rootPath.once('value', (snapshot) => {\r\n            let metricNameInfo = snapshot.val();\r\n            let databaseKeys = Object.keys(metricNameInfo);\r\n            let metricMap = new Map()\r\n\r\n            databaseKeys.map((key) => {\r\n                metricMap.set(key, metricNameInfo[key])\r\n            })\r\n            this.setState((state) => {\r\n                state.metrics = metricMap;\r\n                return state;\r\n            })\r\n        });\r\n    }\r\n\r\n    // Represents metric area elements to render on page.\r\n    metricAreaElements() {\r\n        const metricAreaElements = Array.from(this.state.metrics.entries()).map((key) => {\r\n            // Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricAreaButton\r\n                metricName={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricFunc={this.retrieveMetricInfo}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    // Retrieves archived metric area elements from Firebase\r\n    retrieveArchivedMetricAreaElements() {\r\n        let rootPath = firebase.database().ref('metricAreas')\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            let metricMap = new Map()\r\n\r\n            let keys = Object.keys(info)\r\n\r\n            keys.map((key) => {\r\n                console.log(key)\r\n                console.log(info[key])\r\n                if (info[key].metricArchived) {\r\n                    metricMap.set(key, info[key])\r\n                }\r\n            })\r\n            this.setArchivedMetricElements(metricMap)\r\n        })\r\n    }\r\n\r\n    // Set archived metric area elements\r\n    setArchivedMetricElements(metricMap) {\r\n        this.setState((state) => {\r\n            state.archivedElements = metricMap\r\n            return state\r\n        })\r\n    }\r\n\r\n    archiveMetricAreaElement(e) {\r\n        e.preventDefault()\r\n        console.log(this.state)\r\n        if (this.state.currentmID) {\r\n            console.log(\"test\")\r\n            let rootPath = firebase.database().ref('metricAreas/' + this.state.currentmID)\r\n            rootPath.update({\r\n                metricArchived: true\r\n            })\r\n        }\r\n    }\r\n\r\n    renderModal() {\r\n        this.setState((state) => {\r\n            this.state.display = \"block\";\r\n            return state\r\n        })\r\n    }\r\n\r\n    closeModal(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            this.state.display = \"none\";\r\n            return state\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    // Do not submit if \r\n    // ask for a re-confirm\r\n    submitForm(e) {\r\n        e.preventDefault()\r\n        if (e.target != null) {\r\n            let ref = firebase.database().ref('metricAreas')\r\n            let id = ref.push().getKey()\r\n            let metricObject = {\r\n                metricName: this.state.MetricName,\r\n                metricID: id,\r\n                metricActualEnabled: false,\r\n                metricArchived: false\r\n            }\r\n            firebase.database().ref('metricAreas/' + id.toString()).update({\r\n                metricName: this.state.MetricName,\r\n                metricID: id,\r\n                metricActualEnabled: false, // Default is false, prevents users from altering actuals\r\n                metricTargetEnabled: false,\r\n                metricArchived: false\r\n            })\r\n\r\n            let metricsMap = this.state.metrics\r\n            metricsMap.set(\r\n                id, metricObject\r\n            )\r\n            this.setMetricsMap(metricsMap)\r\n        } else {\r\n            console.log(e.error)\r\n        }\r\n    }\r\n\r\n    setMetricsMap(metricsMap) {\r\n        this.setState((state) => {\r\n            state.metrics = metricsMap\r\n            state.display = \"none\"\r\n            state.MetricName = \"\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    addForm() {\r\n        let form = (\r\n            <div className=\"metricForm\" style={ {display: this.state.display} }>\r\n                \r\n                <form className=\"metricBox\">\r\n                    <div>\r\n                    <button className=\"close-button\"\r\n                            onClick={(e) => this.closeModal(e)}>\r\n                            X\r\n                        </button>\r\n                        <h2>Adding New Metric Area</h2>\r\n                        <label>\r\n                            <input \r\n                            onChange={(e) => this.handleChange(e)}\r\n                            type=\"text\" name=\"MetricName\"/>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <button class=\"submit\"\r\n                        onClick={(e) => this.submitForm(e)}>\r\n                        Submit\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    editMetricArea() {\r\n        let editForm = (\r\n            <div \r\n                className=\"metricForm\" style={ {display: this.state.modalDisplay} }>\r\n                \r\n                <form className=\"metricBox\">\r\n                    <button \r\n                        onClick={(e) => this.closeModalE(e)}\r\n                        id=\"close-button\">\r\n                            X\r\n                    </button>\r\n\r\n                    <div>\r\n                        <h2>Current Metric: {this.state.currentmName} </h2>\r\n                        <label>\r\n                        <input \r\n                            onChange={(e) => this.handleChange(e)}\r\n                            type=\"text\" name=\"editMetricName\"/>\r\n                        </label>\r\n                    </div>  \r\n                    \r\n                    <button className=\"submit\"\r\n                        onClick={(e) => this.submitMetricInfo(e)}>\r\n                        Save\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n        return editForm\r\n    }\r\n\r\n    retrieveMetricInfo(mID, mName) {\r\n        this.setState((state) => {\r\n            state.modalDisplay = \"block\"\r\n            state.currentmID = mID\r\n            state.currentmName = mName\r\n            return state\r\n        })\r\n    }\r\n\r\n    submitMetricInfo(e) {\r\n        e.preventDefault()\r\n        if (this.state.currentmID && this.state.editMetricName) {\r\n            let rootPath = firebase.database().ref('metricAreas/' + this.state.currentmID)\r\n            rootPath.update({\r\n                metricName: this.state.editMetricName\r\n            })\r\n        }\r\n    }\r\n\r\n    closeModalE(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            this.state.modalDisplay = \"none\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const metricAreaElements = this.metricAreaElements()\r\n        let form = this.addForm()\r\n        let editForm = this.editMetricArea() \r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <main>\r\n                    <AdminPanelNav />\r\n                    <div class=\"main-content\">\r\n                        <div>\r\n                            <CardDeck className=\"PermDatadeck\">\r\n                                <h1 class='selection' id='met-areas'> Metric Areas \r\n                                \r\n                                <button\r\n                                    id=\"addMetricAreaButton\" \r\n                                    onClick={() => this.renderModal()}>\r\n                                    <img class='more' src={More} />\r\n                                    </button> </h1>\r\n                                <div className=\"metricElements\">\r\n                                {metricAreaElements}\r\n                                </div>\r\n                            </CardDeck>\r\n                        </div>\r\n                        {form}\r\n                        {editForm}\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaButton extends Component {\r\n    render() {\r\n        let typeString = this.props.metricName\r\n        return (\r\n            <button\r\n                class='selection'\r\n                type={typeString}\r\n                value={typeString}\r\n                onClick={() => this.props.metricFunc(this.props.metricID, this.props.metricName)}\r\n            >\r\n                {typeString}\r\n            </button>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/AdminPanel.css';\r\nimport { AdminPanelNav } from './AdminPanel'\r\nimport firebase from 'firebase/app';\r\nimport Switch from \"react-switch\";\r\n\r\nimport { CardDeck, ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n// Not sure if AdminPanelNav is redundant. It is in the Admin panel js file\r\nexport class AdminPanelUserPermissions extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.setMetricOwnerInfo = this.setMetricOwnerInfo.bind(this)\r\n        this.editMetricOwners = this.editMetricOwners.bind(this)\r\n        this.addOwnerModal = this.addOwnerModal.bind(this)\r\n        this.cancelMetricOwners = this.cancelMetricOwners.bind(this)\r\n        this.setMetricOwner = this.setMetricOwner.bind(this)\r\n        this.removeMetricOwner = this.removeMetricOwner.bind(this)\r\n        this.handleMAToggle = this.handleMAToggle.bind(this)\r\n        this.handleMTToggle = this.handleMTToggle.bind(this)\r\n        this.saveChanges = this.saveChanges.bind(this)\r\n\r\n        this.state = {\r\n            currentMetricA: null,\r\n            currentMetricAOwners: new Map(),\r\n            modalDisplay: \"none\",\r\n            ownersDisplay: \"none\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveCurrentUsers()\r\n    }\r\n\r\n    componentDidUpate() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    // Retrieves a list of all current users\r\n    // in SightLife\r\n    retrieveCurrentUsers() {\r\n        let rootPath = firebase.database().ref('users')\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info)\r\n            let users = keys.map((key) => {\r\n                let name = info[key].fName + \" \" + info[key].lName\r\n            })\r\n            return users\r\n        })\r\n    }\r\n\r\n    // Function to be passed as onClick. \r\n    // Renders current information\r\n    // for a metric area such as who owns it,\r\n    // current metric calculations?\r\n    setMetricOwnerInfo(mID, mName) {\r\n        // let userMap = new Map()\r\n        let rootPath = firebase.database().ref('metricAreas/' + mID)\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info);\r\n            let userMap = new Map()\r\n            let mAE = info.metricActualEnabled\r\n            let mTE = info.metricTargetEnabled\r\n\r\n            console.log(mAE)\r\n            console.log(mTE)\r\n\r\n            // is this loop necessary?\r\n            keys.map((key) => {\r\n                if (key === \"owners\") {\r\n                    let objectMap = info[key]\r\n                    for (var object in objectMap) {\r\n                        // userMap.set(object, objectMap[object].userName)\r\n                        console.log(objectMap[object])\r\n                        let userInfoArray = [objectMap[object].userID, objectMap[object].userMetricID, objectMap[object].userName]\r\n                        userMap.set(object, userInfoArray)\r\n                        console.log(userMap)\r\n                    }\r\n                }\r\n            })\r\n            this.setMetricOwner(userMap, mName, mID, mAE, mTE)\r\n        })\r\n    }\r\n\r\n\r\n    setMetricOwner(userMap, name, mID, mAE, mTE) {\r\n        this.setState((state) => {\r\n            state.currentMetricA = name\r\n            state.currentMetricID = mID\r\n            state.currentMetricAOwners = userMap\r\n            state.enableEdit = false\r\n            state.metricActualEnabled = mAE\r\n            state.metricTargetEnabled = mTE\r\n            state.ownersDisplay = \"block\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    setMetricOwners(owners, id) {\r\n        this.setState((state) => {\r\n            state.currentMetricAOwners = owners\r\n            state.firebaseUID = id\r\n            return state\r\n        })\r\n    }\r\n\r\n    editMetricOwners() {\r\n        if (this.state.currentMetricA !== \"Choose a metric area\") {\r\n            this.setState((state) => {\r\n                state.enableEdit = true\r\n                return state\r\n            })\r\n        }\r\n    }\r\n\r\n    removeMetricOwner(removedItem) {\r\n        let rootPath = firebase.database().ref('metricAreas')\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info);\r\n\r\n            keys.map((key) => {\r\n                if (info[key].metricName === this.state.currentMetricA) {\r\n                    for (var item in info[key].owners) {\r\n                        if (info[key].owners[item].userName === removedItem) {\r\n                            // let refPath = 'metricAreas/' + this.state.currentMetricID + '/owners/' + item\r\n\r\n                            // firebase.database().ref(refPath).remove()\r\n\r\n                            let usersInfo = this.state.currentMetricAOwners\r\n                            usersInfo.delete(item)\r\n                            this.setMetricOwners(usersInfo)\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    updateUser(event) {\r\n        const selected = event.target.options.selectedIndex\r\n        let id = (event.target.options[selected].getAttribute('id'))\r\n        let user = event.target.value\r\n        this.setState((state) => {\r\n            state.currentUserID = id\r\n            state.currentUserName = user\r\n            return state\r\n        })\r\n    }\r\n\r\n    addForm() {\r\n        const usersElements = this.userList()\r\n\r\n        let form = (\r\n            <div\r\n                id=\"addUserForm\"\r\n                style={{ display: this.state.modalDisplay }}>\r\n                <form id=\"addUserBox\">\r\n                    <div>\r\n                        <h2>Enter Metric Owner</h2>\r\n                        <label>\r\n                            <select\r\n                                onChange={(e) => this.updateUser(e)}>\r\n                                <option value=\"None\">None</option>\r\n                                {usersElements}\r\n                            </select>\r\n                        </label>\r\n                    </div>\r\n                    <button\r\n                        onClick={(e) => this.submitOwnerModal(e)}>Submit</button>\r\n                    <button\r\n                        onClick={(e) => this.cancelOwnerModal(e)}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    // Display modal for adding owners\r\n    addOwnerModal() {\r\n        this.setState((state) => {\r\n            this.state.modalDisplay = \"block\";\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Submit new owner for a metric area\r\n    submitOwnerModal(e) {\r\n        e.preventDefault()\r\n        console.log(this.state)\r\n        let rootPath = firebase.database().ref('metricAreas/' + this.state.currentMetricA + '/owners')\r\n        let id = rootPath.push().getKey()\r\n        let userArray = [\r\n            id,\r\n            this.state.currentUserID,\r\n            this.state.currentUserName\r\n        ]\r\n        let usersMap = this.state.currentMetricAOwners\r\n        usersMap.set(id, userArray)\r\n        this.setMetricOwners(usersMap, id)\r\n        this.cancelOwnerModal(e)\r\n    }\r\n\r\n    saveChanges(e) {\r\n        e.preventDefault()\r\n        var owners = {}\r\n\r\n        Array.from(this.state.currentMetricAOwners.entries()).map((key) => {\r\n            owners[key[0]] = {\r\n                userID: key[1][0],\r\n                userMetricID: key[1][1],\r\n                userName: key[1][2]\r\n            }\r\n        })\r\n\r\n        firebase.database().ref('metricAreas/' + this.state.currentMetricID).update({\r\n            owners\r\n        })\r\n        firebase.database().ref('metricAreas/' + this.state.currentMetricID).update({\r\n            metricActualEnabled: this.state.metricActualEnabled,\r\n            metricTargetEnabled: this.state.metricTargetEnabled\r\n        })\r\n    }\r\n\r\n    // Closes modal form\r\n    cancelOwnerModal(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            state.modalDisplay = \"none\";\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Cancels edit mode for metric areas\r\n    cancelMetricOwners() {\r\n        this.setState((state) => {\r\n            state.enableEdit = false\r\n            return state\r\n        })\r\n    }\r\n\r\n    handleMAToggle(metricActualEnabled) {\r\n        // firebase.database().ref('metricAreas/' + this.state.currentMetricID).update({\r\n        //     metricActualEnabled: metricActualEnabled\r\n        // })\r\n        this.setState({\r\n            metricActualEnabled\r\n        })\r\n    }\r\n\r\n    handleMTToggle(metricTargetEnabled) {\r\n        // firebase.database().ref('metricAreas/' + this.state.currentMetricID).update({\r\n        //         metricTargetEnabled: metricTargetEnabled\r\n        // })\r\n        this.setState({\r\n            metricTargetEnabled\r\n        })\r\n    }\r\n\r\n    // Represents metric area elements to render on page.\r\n    metricAreaElements() {\r\n        const metricAreaElements = Array.from(this.props.metrics.entries()).map((key) => {\r\n            // Pass metricName, metricID into metricAreaCard as props then also pass in a \r\n            // list of props containing information about that specific metric\r\n            return <MetricAreaButton\r\n                metricName={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricFunc={this.setMetricOwnerInfo}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    userList() {\r\n        const usersElements = Array.from(this.props.users.entries()).map((key) => {\r\n            let name = key[1].fName + \" \" + key[1].lName\r\n            return <UserItem\r\n                name={name}\r\n                uid={key[1].uid}\r\n            />\r\n        })\r\n        return usersElements\r\n    }\r\n\r\n    // Saves information\r\n    // for whether targets and actuals\r\n    // are enabled and sends it to Firebase\r\n    saveAT(target, actual, id) {\r\n        firebase.database().ref('metricAreas/' + id).update({\r\n            metricActualEnabled: actual,\r\n            metricTargetEnabled: target\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const metricAreaElements = this.metricAreaElements()\r\n        let form = this.addForm()\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <main>\r\n                    <AdminPanelNav />\r\n                    <h1 class=\"ASettingsTitle\"> Metric Owner Settings </h1>\r\n\r\n                    <div class=\"main-content\">\r\n                        <div class=\"column\">\r\n                            <CardDeck className=\"PermDatadeck\">\r\n                                {metricAreaElements}\r\n                            </CardDeck>\r\n                        </div>\r\n                        <MetricAreaInfo\r\n                            {...this.state}\r\n                            editMetricOwners={this.editMetricOwners}\r\n                            addOwnerModal={this.addOwnerModal}\r\n                            cancelMetricOwners={this.cancelMetricOwners}\r\n                            setMetricOwner={this.setMetricOwner}\r\n                            removeMetricOwner={this.removeMetricOwner}\r\n                            handleMAToggle={this.handleMAToggle}\r\n                            handleMTToggle={this.handleMTToggle}\r\n                            saveAT={this.saveAT}\r\n                            saveChanges={this.saveChanges}\r\n                        />\r\n                        {form}\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaInfo extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    // Represents metric area owners to render.\r\n    metricAreaOwners() {\r\n        const metricAreaOwners = Array.from(this.props.currentMetricAOwners.entries()).map((key) => {\r\n            console.log(key)\r\n            return <MetricAreaOwner\r\n                owner={key[1][2]}\r\n                enableEdit={this.props.enableEdit}\r\n                removeMetricOwner={this.props.removeMetricOwner}\r\n            />\r\n        })\r\n        return metricAreaOwners\r\n    }\r\n\r\n    render() {\r\n        const metricAreaOwners = this.metricAreaOwners()\r\n        let content = (\r\n            <div id=\"dataEntry\">\r\n                <label>\r\n                    <span> Data Entry for Actuals:</span>\r\n                </label>\r\n                <Switch\r\n                    onChange={this.props.handleMAToggle}\r\n                    className=\"react-switch\"\r\n                    uncheckedIcon={false}\r\n                    checkedIcon={false}\r\n                    checked={this.props.metricActualEnabled} />\r\n                <label>\r\n                    <span> Data Entry for Targets:</span>\r\n                </label>\r\n                <Switch\r\n                    className=\"react-switch\"\r\n                    uncheckedIcon={false}\r\n                    checkedIcon={false}\r\n                    checked={this.props.metricTargetEnabled}\r\n                    onChange={this.props.handleMTToggle} />\r\n            </div>\r\n        )\r\n        let entryContent = null\r\n        let buttonContent = null\r\n\r\n        buttonContent = (\r\n            <button className=\"editButton\" onClick={(e) => this.props.saveChanges(e)}>\r\n                Save\r\n            </button>\r\n        )\r\n\r\n        entryContent = (\r\n            <div>\r\n                <button\r\n                    onClick={() => { this.props.addOwnerModal() }}\r\n                    class='save'><strong>Add Owner</strong></button>\r\n            </div>\r\n        )\r\n\r\n        return (\r\n            <div class=\"column\"\r\n                style={{ display: this.props.ownersDisplay }}>\r\n                <div class=\"PermInfo\">\r\n                    <div class=\"PermissionBox\">\r\n                        <h3 class='PermissionText'> {this.props.currentMetricA} </h3>\r\n                    </div>\r\n                    <div class=\"PermissionInfo\">\r\n                        <p class=\"PermText\">Owner(s):</p>\r\n                        <ul id=\"owners\">\r\n                            <div id=\"listitem\">\r\n                                <ListGroup>\r\n                                    {metricAreaOwners}\r\n                                </ListGroup>\r\n                            </div>\r\n                        </ul >\r\n                        {entryContent}\r\n                        {content}\r\n                        {buttonContent}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single metric area to render. Clicking a button\r\n// will render that metric area's calculations\r\nclass MetricAreaButton extends Component {\r\n    render() {\r\n        let typeString = this.props.metricName\r\n        return (\r\n            <button\r\n                class='selection'\r\n                type={typeString}\r\n                value={typeString}\r\n                onClick={() => this.props.metricFunc(this.props.metricID, this.props.metricName)}\r\n            >\r\n                {typeString}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single metric area owner.\r\nclass MetricAreaOwner extends Component {\r\n    render() {\r\n        let button = \r\n            <button className=\"remove\"\r\n                onClick={() => { this.props.removeMetricOwner(this.props.owner, this.props.currentMetricA) }}>-</button>\r\n\r\n        return (\r\n            <li>\r\n                {this.props.owner}\r\n                {button}\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nclass UserItem extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.name} id={this.props.uid}>\r\n                {this.props.name}\r\n            </option>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/AdminPanelMetricCalcs.css';\r\nimport './index.js';\r\n\r\nimport { AdminPanelNav } from './AdminPanel'\r\nimport firebase from 'firebase/app';\r\n\r\n// Not sure if AdminPanelNav is redundant. It is in the Admin panel js file\r\nexport class AdminPanelMetricCalcs extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.openModal = this.openModal.bind(this)\r\n        this.openArchiveModal = this.openArchiveModal.bind(this)\r\n        this.openAddModal = this.openAddModal.bind(this)\r\n\r\n        this.state = {\r\n            current: \"\",\r\n            modalDisplay: \"none\",\r\n            addModalDisplay: \"none\",\r\n            archivedModalDisplay: \"none\",\r\n            currentMetricAreaCalculations: new Map(),\r\n            currentArchivedAreaCalculations: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    metricAreaItemsList() {\r\n        const metricAreaElements = Array.from(this.props.metrics.entries()).map((key) => {\r\n            return <MetricAreaItem\r\n                metricValue={key[1].metricName}\r\n                metricID={key[1].metricID}\r\n                metricFunc={this.updateChange}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    updateME(event) {\r\n        let area = event.target.value\r\n        this.setState((state) => {\r\n            state.current = area\r\n            return state\r\n        })\r\n        this.retrieveMetricAreaCalculations()\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    addCalculation(e) {\r\n        e.preventDefault()\r\n        if (this.checkAddCalculation()) {\r\n            let ref = firebase.database().ref('metricCalculations')\r\n            let id = ref.push().getKey()\r\n\r\n            let metricCalcObject = {\r\n                calcName: this.state.addCalcName,\r\n                calcMetric: this.state.addCalcName,\r\n                calcID: id,\r\n                calcArchived: false,\r\n                metricAreaID: this.state.current,\r\n                dataType: this.state.dataType\r\n            }\r\n\r\n            firebase.database().ref('metricCalculations/' + id.toString()).update({\r\n                calcName: this.state.addCalcName,\r\n                calcMetric: this.state.addCalcName,\r\n                calcID: id,\r\n                calcArchived: false,\r\n                metricAreaID: this.state.current,\r\n                dataType: this.state.dataType\r\n            })\r\n\r\n            let mapCalculations = this.state.currentMetricAreaCalculations\r\n            mapCalculations.set(id, metricCalcObject)\r\n\r\n        }\r\n    }\r\n\r\n    checkAddOpenModal() {\r\n        if (this.state.current) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    checkAddCalculation() {\r\n        if (this.state.addCalcName && this.state.dataType && this.state.current) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    // Retrieves relevant metric calculations for a metric\r\n    // area from the firebase database that are not archived. \r\n    retrieveMetricAreaCalculations() {\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n        rootPath.once('value', (snapshot) => {\r\n            let metricCalcInfo = snapshot.val();\r\n            if (metricCalcInfo) {\r\n                let databaseKeys = Object.keys(metricCalcInfo);\r\n                let mapCalculations = new Map()\r\n                let archivedMap = new Map()\r\n    \r\n                databaseKeys.map((key) => {\r\n                    console.log(metricCalcInfo[key])\r\n                    let id = metricCalcInfo[key].metricAreaID\r\n                    if (id === this.state.current) {\r\n                        if (!metricCalcInfo[key].calcArchived) {\r\n                            mapCalculations.set(key, metricCalcInfo[key])\r\n                        } else {\r\n                            archivedMap.set(key, metricCalcInfo[key])\r\n                        }\r\n                    }\r\n                })\r\n                this.setCalculations(mapCalculations, archivedMap)\r\n            }\r\n    \r\n        })\r\n    }\r\n\r\n    // Sets state to have current metric area calculations for\r\n    // the selected metric area. \r\n    setCalculations(mapCalculations, archivedMap) {\r\n        this.setState((state) => {\r\n            state.currentMetricAreaCalculations = mapCalculations\r\n            state.currentArchivedAreaCalculations = archivedMap\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Represents metric area calculation elements to render after\r\n    // a metric area is chosen. \r\n    metricAreaCalculations() {\r\n        const metricCalcElements = Array.from(this.state.currentMetricAreaCalculations.\r\n            entries()).map((key) => {\r\n                let calculation = key[1]\r\n                console.log(calculation.calcID)\r\n                return <MetricAreaCalcButton\r\n                    metricCalcName={calculation.calcName}\r\n                    metricCalcID={calculation.calcID}\r\n                    metricCalcFunc={this.openModal}\r\n                />\r\n            })\r\n        return metricCalcElements\r\n    }\r\n\r\n    archivedAreaCalculations() {\r\n        const archivedCalcElements = Array.from(this.state.currentArchivedAreaCalculations.\r\n            entries()).map((key) => {\r\n                let calculation = key[1]\r\n                return <MetricAreaCalcButton\r\n                    metricCalcName={calculation.calcName}\r\n                    metricCalcID={calculation.calcID}\r\n                    metricCalcFunc={this.openArchiveModal}\r\n                />\r\n            })\r\n        return archivedCalcElements\r\n    }\r\n\r\n    openModal(calcID, calcName) {\r\n        this.setState((state) => {\r\n            this.state.currentCalc = calcID\r\n            this.state.currentCalcName = calcName\r\n            this.state.modalDisplay = \"block\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    openArchiveModal(calcID) {\r\n        this.setState((state) => {\r\n            this.state.currentArchivedCalc = calcID\r\n            this.state.archivedModalDisplay = \"block\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    openAddModal() {\r\n        if (this.checkAddOpenModal()) {\r\n            this.setState((state) => {\r\n                state.addModalDisplay = \"block\"\r\n                return state\r\n            })\r\n        }\r\n    }\r\n\r\n    closeModal(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            this.state.modalDisplay = \"none\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    closeArchiveModal(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            this.state.archivedModalDisplay = \"none\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    closeAddModal(e) {\r\n        e.preventDefault()\r\n        this.setState((state) => {\r\n            state.addModalDisplay = \"none\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    submitEditInfo(e) {\r\n        e.preventDefault()\r\n        console.log(this.state)\r\n        let rootPath = firebase.database().ref('metricCalculations/' + this.state.currentCalc)\r\n        rootPath.update({\r\n            calcName: this.state.editCalcName\r\n        })\r\n    }\r\n\r\n    addForm() {\r\n        let form = (\r\n            <div className=\"modalForm\"\r\n                style={{ display: this.state.addModalDisplay }}>\r\n                <div>\r\n                    <form className=\"modalBox\">\r\n                        <button className=\"close-button\"\r\n                            onClick={(e) => this.closeAddModal(e)}>\r\n                            X\r\n                            </button>\r\n                        <h2>New Metric Name</h2>\r\n                        <div>\r\n                            <label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"addCalcName\"\r\n                                    onChange={(e) => this.handleChange(e)}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <h2>\r\n                            Data-Type\r\n                            </h2>\r\n                        <select\r\n                            name=\"dataType\" className=\"dataType\"\r\n                            onChange={(e) => this.handleChange(e)}>\r\n                                <option value=\"none\" disabled selected>Select a data type</option>\r\n                            <option value=\"number\">Number</option>\r\n                            <option value=\"percent\">Percent</option>\r\n                            <option value=\"money\">Money</option>\r\n                            <option value=\"text\">Text</option>\r\n                        </select>\r\n                        <div>\r\n                            <button className=\"submit\"\r\n                                onClick={(e) => this.addCalculation(e)}>\r\n                                Submit\r\n                                </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    archivedForm() {\r\n        let form = (\r\n            <div className=\"modalForm\"\r\n                style={{ display: this.state.archivedModalDisplay }}>\r\n                <div>\r\n                    <form className=\"modalBox\">\r\n                        <button className=\"close-button\"\r\n                            onClick={(e) => this.closeArchiveModal(e)}>\r\n                            X\r\n                            </button>\r\n                        <h2> Current Metric</h2>\r\n                        <div>\r\n                            <button className=\"unarchive\"\r\n                                onClick={(e) => this.unarchiveMetricCalc(e)}>\r\n                                Revive\r\n                                </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    editForm() {\r\n        let form = (\r\n            <div className=\"modalForm\"\r\n                style={{ display: this.state.modalDisplay }}>\r\n                <div>\r\n                    <form className=\"modalBox\">\r\n                        <button className=\"close-button\"\r\n                            onClick={(e) => this.closeModal(e)}>\r\n                            X\r\n                        </button>\r\n\r\n                        <h2>Current Metric</h2>\r\n                        <div>\r\n                            <label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"editCalcName\"\r\n                                    onChange={(e) => this.handleChange(e)}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"submit\"\r\n                            onClick={(e) => this.submitEditInfo(e)}>\r\n                            Submit\r\n                        </button>\r\n                        <button class=\"archive\"\r\n                            onClick={(e) => this.archiveMetricCalc(e)}>\r\n                            Archive\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    archiveMetricCalc(e) {\r\n        e.preventDefault()\r\n        if (this.state.currentCalc) {\r\n            let rootPath = firebase.database().ref('metricCalculations/' + this.state.currentCalc)\r\n            rootPath.update({\r\n                calcArchived: true\r\n            })\r\n\r\n            let metricCalcObject = {\r\n                calcID: this.state.currentCalc,\r\n                calcName: this.state.currentCalcName\r\n            }\r\n\r\n            let calcMap = this.state.currentMetricAreaCalculations\r\n            calcMap.delete(this.state.currentCalc)\r\n\r\n            let archivedMap = this.state.currentArchivedAreaCalculations\r\n            archivedMap.set(this.state.currentCalc, metricCalcObject)\r\n\r\n\r\n        }\r\n    }\r\n\r\n    unarchiveMetricCalc(e) {\r\n        e.preventDefault()\r\n        let rootPath = firebase.database().ref('metricCalculations/' + this.state.currentArchivedCalc)\r\n        rootPath.update({\r\n            calcArchived: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const metricAreaItemsList = this.metricAreaItemsList()\r\n        const metricAreaCalculationElements = this.metricAreaCalculations()\r\n        const archivedAreaCalculationElements = this.archivedAreaCalculations()\r\n\r\n        let editForm = this.editForm()\r\n        let archiveForm = this.archivedForm()\r\n        let addForm = this.addForm()\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <AdminPanelNav />\r\n                <main>\r\n                <h1 class=\"ASettingsTitle\"> Metrics</h1>\r\n                    <div class=\"main-content\">\r\n                        <div>\r\n                            <h2 className= \"selection\" id=\"met-areas\">Select a Metric Area</h2>\r\n\r\n                            <select id=\"select-dropdown\"\r\n                                onChange={(e) => this.updateME(e)}>\r\n                                <option value=\"None\">None</option>\r\n                                {metricAreaItemsList}\r\n                            </select>\r\n                            <div className=\"titleButton\">\r\n                                <h2 className=\"subTitle\"style={{ display: \"inline-block\" }}>Metrics</h2>\r\n                                <button className=\"plus\"\r\n                                    onClick={(e) => this.openAddModal(e)}\r\n                                > + </button>\r\n                            </div>\r\n                            <div id=\"metricAreaCalcElements\">\r\n                                {metricAreaCalculationElements}\r\n                            </div>\r\n                            <h2 className= \"selection\" id=\"met-areas\" >Archived Metrics</h2>\r\n                            <div id=\"archivedAreaElements\">\r\n                                {archivedAreaCalculationElements}\r\n                            {/* <h2 className=\"metricC\">Metric Calculations</h2>\r\n                            <div id=\"calcForm\">\r\n                                <form>\r\n                                    <label for=\"fname\">Enter a Calculation Name </label>\r\n                                    <textarea\r\n                                        onChange={(e) => this.handleChange(e)}\r\n                                        type=\"text\" id=\"form\" name=\"calcName\" />\r\n                                </form>\r\n                                <button className=\"save2\" onClick={() => this.addCalculation()}>Add Calculation</button> */}\r\n                            </div>\r\n                        </div>\r\n                        {editForm}\r\n                        {archiveForm}\r\n                        {addForm}\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaItem extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.metricID}>\r\n                {this.props.metricValue}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\n// Represesnts a single metric area calculation to render. Will render\r\n// depending on the metric area that was selected.\r\nclass MetricAreaCalcButton extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    render() {\r\n        let typeString = this.props.metricCalcID\r\n        return (\r\n            <button\r\n                onClick={(e) => this.props.metricCalcFunc(this.props.metricCalcID, this.props.metricCalcName)}\r\n                class='selection' type={typeString} value={this.props.metricCalcID}>{this.props.metricCalcName}</button>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/AdminDataEntry.css';\r\nimport { AdminPanelNav } from './AdminPanel';\r\nimport firebase from 'firebase/app';\r\nimport { Table } from 'reactstrap';\r\n\r\nimport Cross from './img/cross.svg';\r\nimport Tick from './img/tick.svg';\r\n\r\n// Not sure if AdminPanelNav is redundant. It is in the Admin panel js file\r\nexport class AdminDataEntry extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            falseMap: new Map(),\r\n            renderedMap: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveAllCalculations()\r\n        this.metricCalculationFulfilled()\r\n    }\r\n\r\n    // want to iterate through metric calculations...\r\n    // if there is no data for the previous month for actuals\r\n    // then return false for that metric area and add that\r\n    // metric area to a map with false\r\n    // after that make a new map of the current metrics\r\n    // and compare with that map, if the metric area exists\r\n    // in the map with a false value, mark as unfulfilled\r\n    // otherwise, mark as fulfilled\r\n\r\n    // Iterate through metric calculations\r\n    // and return a map of metric areas that have false values\r\n    metricCalculationFulfilled() {\r\n        let date = new Date()\r\n        let currentMonth = date.getMonth() + 1\r\n        let lastMonth = currentMonth - 1\r\n\r\n        let year = new Date()\r\n        year = year.getFullYear()\r\n\r\n        let calcMap = new Map()\r\n\r\n        // If month is January, make month be last year December\r\n        // Might have to do different data tracking if month is December\r\n        if (lastMonth === 0) {\r\n            lastMonth = 12\r\n            year = year - 1\r\n        }\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            let keys = Object.keys(info)\r\n\r\n            keys.map((key) => {\r\n                let archived = info[key].calcArchived\r\n                if (!info[key].calcArchived) {\r\n                    calcMap.set(key, info[key])\r\n                }\r\n            })\r\n            this.metricCalculationFalse(calcMap, lastMonth, year)\r\n        })\r\n    }\r\n\r\n    metricCalculationFalse(calcMap, lastMonth, year) {\r\n        let rootPath = firebase.database().ref('metricGoalsMonths')\r\n\r\n        let falseMap = new Map()\r\n\r\n        console.log(lastMonth)\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            // let keys = Object.keys(info)\r\n\r\n            Array.from(calcMap.entries()).map((key) => {\r\n                let id = key[0]\r\n                if (info.hasOwnProperty(id)) {\r\n                    let yearObjects = info[id]\r\n                    let lastMonthData = yearObjects[year][lastMonth]\r\n                    // Check if value exists for month\r\n                    if (lastMonthData && id && calcMap) {\r\n                        // Check if the target value is fulfilled\r\n                        let metric = this.state.calcMap.get(id)\r\n                        let metricID = metric.metricAreaID\r\n                        if (lastMonthData.target) {\r\n                            let actual = lastMonthData.actual\r\n                            if (actual === \"N/A\") {\r\n                                // let metric = this.state.calcMap.get(id)\r\n                                // let metricID = metric.metricAreaID\r\n                                falseMap.set(metricID, false)\r\n                            }\r\n                        } else {\r\n                            falseMap.set(metricID, \"No target\")\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            console.log(this.state)\r\n            this.compareMap(falseMap)\r\n        })\r\n    }\r\n\r\n    // For every key, value pair in the metrics map,\r\n    // check if the key exists in the false map.\r\n    compareMap(falseMap) {\r\n        console.log(falseMap)\r\n        console.log(this.props.metrics)\r\n\r\n        let renderedMap = new Map()\r\n\r\n        Array.from(this.props.metrics.entries()).map((key) => {\r\n            let id = key[0]\r\n            let metricName = key[1].metricName\r\n            Array.from(falseMap.entries()).map((key2) => {\r\n                if (id === key2[0]) {\r\n                    let falseObject = {\r\n                        enteredData: false,\r\n                        metricName: metricName\r\n                    }\r\n                    renderedMap.set(id, falseObject)\r\n                } else {\r\n                    let trueObject = {\r\n                        enteredData: true,\r\n                        metricName: metricName\r\n                    }\r\n                    renderedMap.set(id, trueObject)\r\n                }\r\n            })\r\n        })\r\n\r\n        this.setState((state) => {\r\n            state.renderedMap = renderedMap\r\n            return state\r\n        })\r\n    }\r\n\r\n    renderMetricAreas() {\r\n        const metricAreaElements = Array.from(this.state.renderedMap.entries()).map((key) => {\r\n            console.log(key)\r\n            return <MetricAreaComponent\r\n                metricName={key[1].metricName}\r\n                enteredData={key[1].enteredData}\r\n            />\r\n        })\r\n        return metricAreaElements\r\n    }\r\n\r\n    retrieveAllCalculations() {\r\n        let rootPath = firebase.database().ref('metricCalculations')\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info);\r\n            let calcMap = new Map()\r\n\r\n            keys.map((key) => {\r\n                calcMap.set(key, info[key])\r\n            })\r\n\r\n            this.setState((state) => {\r\n                state.calcMap = calcMap\r\n                return state\r\n            })\r\n        })\r\n    }\r\n    test(value) {\r\n        let x = null\r\n            switch (value) {\r\n                case 1:\r\n                    x = \"January\";\r\n                    break;\r\n                case 2:\r\n                    x = \"February\";\r\n                    break;\r\n                case 3:\r\n                    x = \"March\";\r\n                    break;\r\n                case 4:\r\n                    x = \"April\";\r\n                    break;\r\n                case 5:\r\n                    x = \"May\";\r\n                    break;\r\n                case 6:\r\n                    x = \"June\"\r\n                    break;\r\n                case 7:\r\n                    x = \"July\";\r\n                    break;\r\n                case 8:\r\n                    x = \"August\"\r\n                    break;\r\n                case 9:\r\n                    x = \"September\"\r\n                    break;\r\n                case 10:\r\n                    x = \"October\"\r\n                    break;\r\n                case 11:\r\n                    x = \"November\"\r\n                    break;\r\n                case 12:\r\n                    x = \"December\"\r\n                    break;\r\n            }\r\n        return x\r\n    }\r\n\r\n    render() {\r\n        let month = new Date()\r\n        month = month.getMonth()\r\n        let monthVal = this.test(month)\r\n        const metricAreas = this.renderMetricAreas()\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <main>\r\n                    <AdminPanelNav />\r\n                    <h1 className=\"ASettingsTitle\"> Data Entry Tracker </h1>\r\n                    <div className=\"main-content\">\r\n                        <h3 className=\"monthTitleDataEntry\"> {monthVal} </h3>\r\n                        <div className=\"metricsTest\">\r\n                            {metricAreas}\r\n                        </div>\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAreaComponent extends Component {\r\n    render() {\r\n        let test = this.props.enteredData ? <img className=\"tick\" src={Tick}/> : <img className=\"cross\" src={Cross}/>\r\n\r\n        return (\r\n            <div>\r\n            <Table responsive id=\"dataEntryTable\">\r\n                <tbody className=\"test1\">\r\n                    <tr className=\"test1\">\r\n                        <th className=\"test1\">\r\n                            {this.props.metricName}\r\n                        </th>\r\n                        <th className=\"test1\">\r\n                            {test}\r\n                        </th>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './css/AdminPanel.css';\r\nimport { Route, Redirect, Switch, NavLink } from 'react-router-dom';\r\nimport {AdminSettings} from './AdminSettings'\r\nimport {AdminPanelMetrics} from './AdminPanelMetrics'\r\nimport {AdminPanelUserPermissions} from './AdminPanelUserPermissions'\r\nimport {AdminPanelMetricCalcs} from './AdminPanelMetricCalcs'\r\nimport {AdminDataEntry} from './AdminDataEntry'\r\n\r\nimport metrics from './img/metrics.svg'\r\nimport mCalculations from './img/calculations.svg'\r\nimport dataEntry from './img/data-collection.svg'\r\nimport userPermissions from './img/team.svg'\r\nimport settings from './img/settings.svg'\r\n\r\nclass AdminPanel extends Component {\r\n    render() {\r\n        let adminNav = (\r\n        <main>\r\n          <Switch>\r\n            <Route path='/AdminPanel' component={AdminPanelUserPermissions}/> \r\n            <Route path='/AdminSettings' component={AdminSettings} />\r\n            <Route path='/AdminPanelMetrics' component={AdminPanelMetrics} />\r\n            <Route path='/AdminDataEntry' component={AdminDataEntry}/>\r\n            <Route path='/AdminPanelMetricCalcs' component={AdminPanelMetricCalcs} />\r\n            <Redirect to=\"/AdminPanel\" />\r\n          </Switch>\r\n        </main>\r\n        )\r\n        \r\n        return(\r\n            <div>\r\n                {adminNav}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class AdminPanelNav extends Component  {\r\n    render() {\r\n        return(\r\n        <div className=\"body\">\r\n            <main>\r\n                <div class=\"sidebar\">\r\n                    <ul>\r\n                        <li className = \"textz\"><NavLink to='/AdminPanel' class=\"Admin\" activeStyle={{backgroundColor: \"#9991C6\" }}> User Permissions </NavLink></li>\r\n                        <li className = \"svg\"><NavLink to=\"/AdminPanel\" class=\"svg\" activeStyle={{backgroundColor: \"#9991C6\" }}> <img className=\"settings\" src={ userPermissions } /> </NavLink></li>\r\n                        \r\n                        <li className = \"textz\"><NavLink to=\"/AdminPanelMetrics\" class=\"Admin\" activeStyle={{backgroundColor: \"#9991C6\" }}> Metric Areas</NavLink></li>\r\n                        <li className = \"svg\"><NavLink to=\"/AdminPanelMetrics\" class=\"svg\" activeStyle={{backgroundColor: \"#9991C6\" }}> <img className=\"settings\" src={ metrics } /> </NavLink></li>\r\n                        \r\n                        <li className = \"textz\"><NavLink to='/AdminPanelMetricCalcs' class=\"Admin\" activeStyle={{backgroundColor: \"#9991C6\" }}> Metrics</NavLink></li>\r\n                        <li className = \"svg\"><NavLink to=\"/AdminPanelMetricCalcs\" class=\"svg\" activeStyle={{backgroundColor: \"#9991C6\" }}> <img className=\"settings\" src={ mCalculations } /> </NavLink></li>\r\n\r\n                        <li className = \"textz\"><NavLink to='/AdminDataEntry' class=\"Admin\" activeStyle={{backgroundColor: \"#9991C6\" }}>Data Entry</NavLink></li>\r\n                        <li className = \"svg\"><NavLink to=\"/AdminDataEntry\" class=\"svg\" activeStyle={{backgroundColor: \"#9991C6\" }}> <img className=\"settings\" src={ dataEntry } /> </NavLink></li>\r\n\r\n                        <li className = \"textz\"><NavLink to=\"/AdminSettings\" class=\"Admin\" activeStyle={{backgroundColor: \"#9991C6\" }}> Settings </NavLink></li>\r\n                        <li className = \"svg\"><NavLink to=\"/AdminSettings\" class=\"svg\" activeStyle={{backgroundColor: \"#9991C6\" }}> <img className=\"settings\" src={ settings } /> </NavLink></li>\r\n                    </ul> \r\n                </div> \r\n            </main>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminPanel","import React, { Component } from 'react';\r\nimport './css/AdminSettings.css';\r\nimport Switch from \"react-switch\";\r\nimport { AdminPanelNav } from './AdminPanel';\r\nimport Off from './img/toggle.svg';\r\nimport On from './img/switch.svg'\r\nimport firebase from 'firebase/app';\r\n\r\n// Not sure if AdminPanelNav is redundant. It is in the Admin panel js file\r\nexport class AdminSettings extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.removeAdmin = this.removeAdmin.bind(this)\r\n        this.handleAToggle = this.handleAToggle.bind(this)\r\n        this.handleTToggle = this.handleTToggle.bind(this)\r\n\r\n        this.state = {\r\n            enableEdit: false,\r\n            modalDisplay: \"none\",\r\n            currentAdmins: new Map(),\r\n            currentUsers: new Map()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveAdminUsers()\r\n        this.retrieveActualSettings()\r\n        this.retrieveTargetSettings()\r\n        console.log(this.props)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n        // this.retrieveAdminUsers()\r\n    }\r\n\r\n    retrieveAdminUsers() {\r\n        let rootPath = firebase.database().ref('admins')\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            let usersMap = new Map()\r\n\r\n            // If the admins reference exists in the database\r\n            // or if something exists in the database for admins\r\n            if (info) {\r\n                let keys = Object.keys(info)\r\n                keys.map((key) => {\r\n                    console.log(key)\r\n                    console.log(info[key])\r\n                    usersMap.set(key, [info[key].userMetricID, info[key].adminName, info[key].adminID])\r\n                })\r\n            }\r\n\r\n            this.setAdminUsers(usersMap)\r\n        })\r\n    }\r\n\r\n    setAdminUsers(users) {\r\n        this.setState((state) => {\r\n            state.currentAdmins = users\r\n            return state\r\n        })\r\n    }\r\n\r\n    renderAdminUsers() {\r\n        const adminElements = Array.from(this.state.currentAdmins.entries()).map((key) => {\r\n            console.log(key)\r\n            return <AdminItem\r\n                admin={key[1][1]}\r\n                adminID={key[1][2]}\r\n                userID={key[1][0]}\r\n                removeAdmin={this.removeAdmin}\r\n                enableEdit={this.state.enableEdit}\r\n            />\r\n        })\r\n        return adminElements\r\n    }\r\n\r\n    removeAdmin(removedAdmin) {\r\n        // let rootPath = firebase.database().ref('admins')\r\n\r\n        // rootPath.once('value', (snapshot) => {\r\n        //     let info = snapshot.val();\r\n        //     let keys = Object.keys(info)\r\n\r\n        //     keys.map((key) => {\r\n        //         if (key === removedAdmin) {\r\n        //             let refPath = 'admins/' + removedAdmin\r\n        //             firebase.database().ref(refPath).remove()\r\n        //         }\r\n        //     })\r\n        // })\r\n        console.log(removedAdmin)\r\n        let usersMap = this.state.currentAdmins\r\n        usersMap.delete(removedAdmin)\r\n        this.setAdminUsers(usersMap)\r\n    }\r\n\r\n    editAdminInfo() {\r\n        this.setState((state) => {\r\n            state.enableEdit = true\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Renders modal form for adding users\r\n    openModal() {\r\n        this.setState((state) => {\r\n            this.state.modalDisplay = \"block\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Closes modal form for adding users\r\n    closeForm() {\r\n        this.setState((state) => {\r\n            state.modalDisplay = \"none\"\r\n            return state\r\n        })\r\n    }\r\n\r\n    addOwner(e) {\r\n        e.preventDefault()\r\n        let adminExist = this.adminExists()\r\n\r\n        console.log(e.target.value)\r\n\r\n        // If the user does not exist, add them to the owners\r\n        if (adminExist) {\r\n            let rootString = firebase.database().ref('admins/' + this.state.currentUserID)\r\n            let id = rootString.push().getKey()\r\n\r\n            let userArray = [\r\n                this.state.currentUserID,\r\n                this.state.currentUserName,\r\n                id\r\n            ]\r\n\r\n            let usersMap = this.state.currentAdmins\r\n            usersMap.set(id, userArray)\r\n            this.setAdminUsers(usersMap)\r\n            this.closeForm()\r\n        } else {\r\n            // Need to make a error display \r\n            console.log(\"Selected user is already an admin!\")\r\n        }\r\n    }\r\n\r\n    // Check if the selected user already exists\r\n    // If the user is already an admin, notify the system\r\n    adminExists() {\r\n        let admins = this.state.currentAdmins\r\n        let adminExist = true\r\n        admins.forEach((key) => {\r\n            if (key.userID === this.state.currentUserID) {\r\n                adminExist = false\r\n            }\r\n        })\r\n        return adminExist\r\n    }\r\n\r\n    // Put in app and send down\r\n    cancelEdit() {\r\n        this.setState((state) => {\r\n            state.enableEdit = false\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Handles changes for \r\n    handleChange = (event) => {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    // Update the currently selected user\r\n    updateUser(event) {\r\n        const selected = event.target.options.selectedIndex\r\n        let id = (event.target.options[selected].getAttribute('id'))\r\n        let user = event.target.value\r\n        this.setState((state) => {\r\n            state.currentUserID = id\r\n            state.currentUserName = user\r\n            return state\r\n        })\r\n    }\r\n\r\n    // Returns all current users in SightLife as \r\n    // <option> elements\r\n    usersList() {\r\n        console.log(this.props.users)\r\n        const usersElements = Array.from(this.props.users.entries()).map((key) => {\r\n            let name = key[1].fName + \" \" + key[1].lName\r\n            return <UserItem\r\n                name={name}\r\n                uid={key[1].uid}\r\n            />\r\n        })\r\n        return usersElements\r\n    }\r\n\r\n    addForm() {\r\n        let usersList = this.usersList()\r\n        let form = (\r\n            <div\r\n                id=\"formOne\"\r\n                style={{ display: this.state.modalDisplay }}>\r\n                <div>\r\n                    <form id=\"formBox\">\r\n                        <h2>Select an Admin</h2>\r\n                        <div>\r\n                            <label>\r\n                                <select\r\n                                    onChange={(e) => this.updateUser(e)}>\r\n                                    <option value=\"None\" disabled selected>Select a user</option>\r\n                                    {usersList}\r\n                                </select>\r\n                            </label>\r\n\r\n                            <button className=\"addAdmin\"\r\n                                onClick={(e) => this.addOwner(e)}>\r\n                                Submit\r\n                            </button>\r\n\r\n                            <button className=\"cancel\"\r\n                                onClick={() => this.closeForm()}>\r\n                                Cancel\r\n                    </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n        return form\r\n    }\r\n\r\n    handleAToggle(actualToggle) {\r\n        // firebase.database().ref('dataEntrySettings').update({\r\n        //     actualEnabled: actualToggle\r\n        // })\r\n        this.setState({\r\n            actualToggle\r\n        })\r\n    }\r\n\r\n    handleTToggle(targetToggle) {\r\n        // firebase.database().ref('dataEntrySettings').update({\r\n        //     targetEnabled: targetToggle\r\n        // })\r\n        this.setState({\r\n            targetToggle\r\n        })\r\n    }\r\n\r\n    retrieveActualSettings() {\r\n        let actual = null\r\n        let actualSettings = firebase.database().ref('dataEntrySettings/actualEnabled')\r\n        actualSettings.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            actual = info\r\n            console.log(actual)\r\n            this.setState((state) => {\r\n                state.actualToggle = actual\r\n                return state\r\n            })\r\n        })\r\n    }\r\n\r\n    retrieveTargetSettings() {\r\n        let target = null\r\n        let targetSettings = firebase.database().ref('dataEntrySettings/targetEnabled')\r\n        targetSettings.once('value', (snapshot) => {\r\n            let info = snapshot.val()\r\n            target = info\r\n            this.setState((state) => {\r\n                state.targetToggle = target\r\n                return state\r\n            })\r\n        })\r\n    }\r\n\r\n    saveSettings() {\r\n        var admins = {}\r\n\r\n        Array.from(this.state.currentAdmins.entries()).map((key) => {\r\n            console.log(key)\r\n            admins[key[0]] = {\r\n                adminID: key[1][2],\r\n                userMetricID: key[1][0],\r\n                adminName:  key[1][1],\r\n            }\r\n        })\r\n\r\n        console.log(admins)\r\n\r\n        firebase.database().ref().update({\r\n            admins\r\n        })\r\n\r\n        firebase.database().ref(\"dataEntrySettings\").update({\r\n            actualEnabled: this.state.actualToggle,\r\n            targetEnabled: this.state.targetToggle\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let content = null\r\n        let form = this.addForm()\r\n        const adminElements = this.renderAdminUsers()\r\n\r\n        // if (this.state.enableEdit) {\r\n            content = (\r\n                <div class=\"adminButtons\">\r\n                    <button className=\"addAdmin\"\r\n                        onClick={() => this.openModal()}>\r\n                        Add Admin\r\n                    </button>\r\n\r\n                    {/* <button className=\"cancel\"\r\n                        onClick={() => this.cancelEdit()}>\r\n                        Cancel\r\n                    </button> */}\r\n                </div>\r\n            )\r\n        // } else {\r\n        //     content = (\r\n        //         <div class=\"adminButtons\">\r\n        //             <button\r\n        //                 className=\"save2\"\r\n        //                 value=\"test\"\r\n        //                 onClick={() => this.editAdminInfo()}>\r\n        //                 Edit Admins\r\n        //         </button>\r\n        //         </div>\r\n        //     )\r\n        // }\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <AdminPanelNav />\r\n                <main>\r\n                    <h1 class=\"ASettingsTitle\"> Settings </h1>\r\n\r\n                    <div class=\"main-content\">\r\n                        <div class=\"columnSettings\">\r\n                            <section class=\"PermInfo\">\r\n                                <div class=\"PermissionBox\">\r\n                                    <h3 class='PermissionText'> Admin Information </h3>\r\n                                </div>\r\n                                <div class=\"PermissionInfo\">\r\n                                    <p class=\"PermText2\"> Admin(s) </p>\r\n                                    <div id=\"ownerElements\">\r\n                                        <ul>\r\n                                            <div id=\"test\">\r\n                                                {adminElements}\r\n                                            </div>\r\n                                        </ul>\r\n                                    </div>\r\n                                    {content}\r\n                                </div>\r\n                            </section>\r\n                        </div>\r\n\r\n                        {form}\r\n\r\n                        <div id=\"dataSettings\" class=\"columnSettings\">\r\n                            <section class=\"PermInfo\">\r\n                                <div class=\"PermissionBox\">\r\n                                    <h3 class='PermissionText'> Data Entry Form Settings </h3>\r\n                                </div>\r\n\r\n                                <div class=\"PermissionInfo\">\r\n                                    <div id=\"entryFormSettings\">\r\n                                        <label>\r\n                                            <span>Data Entry for Actuals:</span></label>\r\n                                        <Switch\r\n                                            uncheckedIcon={false}\r\n                                            checkedIcon={false}\r\n                                            onChange={this.handleAToggle}\r\n                                            checked={this.state.actualToggle}\r\n                                            className=\"react-switch\"\r\n                                        />\r\n                                        <label>\r\n                                            <span>Data Entry for Targets:</span></label>\r\n                                        <Switch\r\n                                            className=\"react-switch\"\r\n                                            uncheckedIcon={false}\r\n                                            checkedIcon={false}\r\n                                            onChange={this.handleTToggle}\r\n                                            checked={this.state.targetToggle}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </section>\r\n                        </div>\r\n\r\n                        <div class='Save2Button'>\r\n                            <button\r\n                                onClick={() => this.saveSettings()}\r\n                                class='save2' type=\"Save\" value=\"Save\"> Save </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass UserItem extends Component {\r\n    render() {\r\n        return (\r\n            <option value={this.props.name} id={this.props.uid}>\r\n                {this.props.name}\r\n            </option>\r\n        )\r\n    }\r\n}\r\n\r\nclass AdminItem extends Component {\r\n    render() {\r\n        let button =\r\n            <button className=\"remove\"\r\n                onClick={() => { this.props.removeAdmin(this.props.adminID) }}>-\r\n        </button>\r\n\r\n        return (\r\n            <li className=\"test\">\r\n                {this.props.admin}\r\n                {button}\r\n            </li>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './css/ForgotPassword.css';\r\n\r\nexport class ForgotPassword extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            errorMessage: \"\",\r\n            emailInput: \"\"\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let field = event.target.name\r\n        let value = event.target.value\r\n\r\n        let changes = {}\r\n\r\n        changes[field] = value\r\n        this.setState(changes)\r\n    }\r\n\r\n    render() {\r\n        let err = this.state.errorMessage\r\n\r\n        return(\r\n            <div className=\"forgotPassword\">\r\n                <h3>Reset Your Password</h3>\r\n                <p className=\"passwordText\">Forgot your password? Enter your verified SightLife email\r\n                    address and we'll send you a password reset link.\r\n                </p>\r\n                <input className=\"emailInput\" type=\"email\" placeholder=\"SightLife Email\"\r\n                    onChange={(e) => this.handleChange(e)} name=\"emailInput\"/>\r\n                <div>{err}</div>\r\n                <button\r\n                    id=\"emailMe\"\r\n                    onClick={() => this.props.handleForgotPassword(this.state.emailInput)}>Email Me</button>\r\n                <div className=\"reroute\">\r\n                    <Link id=\"signin\" to={\"/signin\"}>Sign In</Link>\r\n                    <Link id=\"createaccount\" to={\"/createaccount\"}>Create Account</Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './css/SignIn.css';\r\nimport './index.js';\r\n\r\nexport class CreateAccount extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            complete: false\r\n        }\r\n    }\r\n\r\n\r\n    // Check if fields are filled with appropriate content\r\n    checkSubmissions() {\r\n        let valid = true\r\n        if (!this.renderFnameIssues()) {\r\n            console.log(\"Invalid first name\")\r\n            valid = false\r\n        }\r\n        if (!this.renderLnameIssues()) {\r\n            console.log(\"Invalid last name\")\r\n            valid = false\r\n        }\r\n        if (!this.renderEmailIssues()) {\r\n            console.log(\"Invalid email\")\r\n            valid = false\r\n        }\r\n        if (!this.renderPasswordIssues()) {\r\n            console.log(\"Invalid password\")\r\n            valid = false\r\n        }\r\n        if (!this.renderRePasswordIssues()) {\r\n            console.log(\"Invalid re-entered password\")\r\n            valid = false\r\n        }\r\n        return valid\r\n    }\r\n\r\n    // Submit entered information\r\n    // Render account confirmed\r\n    submitAccount() {\r\n        if (this.checkSubmissions()) {\r\n            console.log(\"Valid information has been inputted\")\r\n            console.log(\"Verifying user information by sending to email...\")\r\n            this.props.handleSignUp(this.state.email, this.state.password, this.state.fName, this.state.lName)\r\n            this.setState((state) => {\r\n                state.complete = true\r\n                return state\r\n            })\r\n        } else {\r\n            console.log(\"Invalid information!\")\r\n        }\r\n    }\r\n\r\n    renderFnameIssues() {\r\n        if (this.state.fName === null || this.state.fName === undefined) {\r\n            return false\r\n        } else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    renderLnameIssues() {\r\n        if (this.state.lName == null || this.state.lName == undefined) {\r\n            return false\r\n        } else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    // If email doesn't end with @sightlife.org,\r\n    // do not allow submission\r\n    renderEmailIssues() {\r\n        // if (this.state.email == null || this.state.email.slice(-14) != \"@sightlife.org\") {\r\n        //     console.log(\"Email is not a valid sightlife email\")\r\n        //     return false\r\n        // }\r\n        if (this.state.email == null || this.state.email == undefined) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    // Password must be \r\n    // 8 characters long\r\n    // contain one symbol\r\n    // contain one number\r\n    renderPasswordIssues() {\r\n        let valid = true\r\n        console.log(this.state)\r\n        if (this.state.password == null || this.state.password.length < 8) {\r\n            console.log(\"Password is too short!\")\r\n            valid = false\r\n        }\r\n        if (!(/\\d/.test(this.state.password))) {\r\n            console.log(\"Password does not contain a number!\")\r\n            valid = false\r\n        }\r\n        if (!(/[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g.test(this.state.password))) {\r\n            console.log(\"Password does not contain a special character!\")\r\n            valid = false\r\n        }\r\n        return valid\r\n    }\r\n\r\n    // If password does not equal the other password\r\n    // \r\n    renderRePasswordIssues() {\r\n        if (this.state.password != this.state.rpassword) {\r\n            console.log(\"Password is not the same\")\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    updateFname(event) {\r\n        let fVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.fName = fVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    updateLname(event) {\r\n        let lVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.lName = lVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    updateEmail(event) {\r\n        let eVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.email = eVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    updatePassword(event) {\r\n        let pVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.password = pVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    updateRePassword(event) {\r\n        let rpVal = (event.target.value)\r\n        this.setState((state) => {\r\n            state.rpassword = rpVal\r\n            return state\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let content = null\r\n        if (this.state.complete) {\r\n            content = (\r\n                <div>\r\n                    <p>\r\n                        A verification email has been sent to: {this.state.email}\r\n                    </p>\r\n                    <p>\r\n                        Verify your email to login to the application!\r\n                    </p>\r\n                    <p>\r\n                        <Link to=\"/signIn\">Return to Sign-In</Link>\r\n                    </p>\r\n                </div>\r\n            )\r\n        } else {\r\n            content = (\r\n                <div className=\"body\">\r\n                <h1> Create Account </h1>\r\n                <div className=\"form\">\r\n                    <div className=\"SignBox\">\r\n                    <p>\r\n                        <label className = \"sign\" for='First Name'> First Name </label>\r\n                        <input\r\n                            onChange={(e) => this.updateFname(e)}\r\n                            type='text' name=\"firstName\" required />\r\n                    </p>\r\n                    <p>\r\n                        <label className = \"sign\" for='Last Name'> Last Name </label>\r\n                        <input\r\n                            onChange={(e) => this.updateLname(e)}\r\n                            type='text' name=\"lastName\" required />\r\n                    </p>\r\n                    <p>\r\n                        <label className = \"sign\" for='Email'> Email </label>\r\n                        <input\r\n                            onChange={(e) => this.updateEmail(e)}\r\n                            type='text' name='Email' required\r\n                            placeholder=\" SightLife Email\" />\r\n                    </p>\r\n\r\n                    <p>\r\n                        <label className = \"sign\" for='Password'> Password </label>\r\n                        <input\r\n                            onChange={(e) => this.updatePassword(e)}\r\n                            type='password' name='Password' required/>\r\n                    </p>\r\n                    <ul id=\"pList\">\r\n                        <li>A password requires at least 8 characters</li>\r\n                        <li>A password requires one special character (ex: @!?/)</li>\r\n                        <li>A password requires one number</li>\r\n                    </ul>\r\n                    <p>\r\n                        <label className = \"sign\" for='Re-Enter Password'> Re-enter Password </label>\r\n                        <input\r\n                            onChange={(e) => this.updateRePassword(e)}\r\n                            type='password' name='Re-Password' required />\r\n                    </p>\r\n                </div>\r\n                    <p>\r\n                        <button\r\n                            onClick={() => this.submitAccount()}\r\n                            class='preview'> Create Account</button>\r\n                        {/* <input type=\"submit\" value=\"Submit\"></input> */}\r\n                    </p>\r\n\r\n                <div class='account'>\r\n                    <p class=\"account\"> Already have an account? </p>\r\n                </div>\r\n\r\n                <div class='account2'>\r\n                    <a class='create'> <Link to=\"/signIn\" onClick={() => this.props.disableSignInStatus()}>Sign In</Link></a>\r\n                </div>\r\n\r\n                </div>\r\n            </div>\r\n            ) \r\n        }\r\n        return (\r\n            <div>\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}","import './css/App.css';\r\nimport React, { Component } from 'react';\r\nimport { Route, Redirect, Switch, NavLink } from 'react-router-dom';\r\nimport { About } from './About';\r\nimport { Metrics } from './Metrics';\r\nimport { DataEntry } from './DataEntry';\r\nimport { FAQ } from './FAQ';\r\nimport { Visualizations } from './Visualizations.js'\r\nimport { SignIn } from './SignIn';\r\nimport { AdminSettings } from './AdminSettings'\r\nimport { AdminPanelMetrics } from './AdminPanelMetrics'\r\nimport { AdminPanelUserPermissions } from './AdminPanelUserPermissions'\r\nimport { AdminPanelMetricCalcs } from './AdminPanelMetricCalcs'\r\nimport {AdminDataEntry} from './AdminDataEntry'\r\nimport { ForgotPassword} from './ForgotPassword'\r\nimport { CreateAccount } from './CreateAccount';\r\n\r\nimport firebase from 'firebase/app';\r\nimport SightLife from './img/sightlife.png';\r\nimport Profile from './img/profile2.png'\r\nimport { format } from 'd3';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let metricAreas = new Map()\r\n    let userInfo = {\r\n      uid: \"\"\r\n    }\r\n\r\n    this.changeSignInStatus = this.changeSignInStatus.bind(this)\r\n    this.disableSignInStatus = this.disableSignInStatus.bind(this)\r\n\r\n    this.state = {\r\n      signInStatus: false,\r\n      email: '',\r\n      password: '',\r\n      metrics: metricAreas,\r\n      calcMap: new Map(),\r\n      usersMetrics: new Map(),\r\n      users: new Map(),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.authUnSubFunction = firebase.auth().onAuthStateChanged((firebaseUser) => {\r\n      if (firebaseUser) { // If user is logged in\r\n        this.setState({\r\n          user: firebaseUser,\r\n          checkingLogin: false,\r\n          verified: firebaseUser.emailVerified\r\n        })\r\n        // Retrieve current user's metric areas\r\n        this.retrieveUsersMetricAreas()\r\n      } else { // Log user out\r\n        this.setState({\r\n          user: null\r\n        })\r\n      }\r\n    })\r\n\r\n    // Retrieve current metric areas in database\r\n    // this.retrieveUsersMetricAreas()\r\n    this.retrieveMetricsList()\r\n    this.retrieveCurrentUsers()\r\n    this.retrieveAllCalculations()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.authUnSubFunction(); // Stops listening for auth changes\r\n  }\r\n\r\n  // USER SIGN-IN/ACCOUNT CREATION // \r\n\r\n  // Signs user out of application\r\n  handleSignOut = () => {\r\n    this.setState({ errorMessage: null });\r\n    firebase.auth().signOut()\r\n      .catch((err) => {\r\n        this.setState({ errorMessage: err.message })\r\n      })\r\n    window.location = \"/#/\"\r\n  }\r\n\r\n  // Create a user account\r\n  // Make sure it does not keep the user logged in once they create their account\r\n  handleSignUp = (email, password, fname, lname) => {\r\n    firebase.auth().createUserWithEmailAndPassword(email, password)\r\n      .then(function () {\r\n        var user = firebase.auth().currentUser\r\n        console.log(\"User created: \" + user)\r\n\r\n        // Add user information to database\r\n        firebase.database().ref('users/' + user.uid.toString()).update({\r\n          email: user.email,\r\n          fName: fname,\r\n          lName: lname,\r\n          uid: user.uid.toString()\r\n        })\r\n\r\n        user.sendEmailVerification().then(function () {\r\n          // Email sent\r\n        }).catch(function (error) {\r\n          // An error happened.\r\n          console.log(error.errorMessage)\r\n        })\r\n      })\r\n      .catch(function (error) {\r\n        // Handle errors here\r\n        var errorCode = error.errorCode\r\n        var errorMessage = error.errorMessage\r\n        window.alert(\"Error : \" + errorMessage)\r\n      })\r\n  }\r\n\r\n  // Signs user into application\r\n  handleSignIn = (email, password) => {\r\n    firebase.auth().signInWithEmailAndPassword(email, password)\r\n      .catch((err) => {\r\n        this.setState({ errorMessage: err.message })\r\n      })\r\n  }\r\n\r\n  handleForgotPassword = (email) => {\r\n    firebase.auth().sendPasswordResetEmail(email).then(function() {\r\n      // Email sent.\r\n    }).catch((err) => {\r\n      this.setState({\r\n        errorMessage: err.message\r\n      })\r\n    })\r\n  }\r\n\r\n  // ADMIN PANEL FUNCTIONS // \r\n\r\n  // Adds a new metric calculation for a selected metric area,\r\n  // for admin panel use. \r\n  addMetricCalculation() {\r\n\r\n  }\r\n\r\n  // Gets current owners of metric area\r\n  getMetricOwnerInfo() {\r\n\r\n  }\r\n\r\n  retrieveUsersMetricAreas = () => {\r\n      let rootPath = firebase.database().ref('metricAreas')\r\n\r\n      rootPath.once('value', (snapshot) => {\r\n        let info = snapshot.val()\r\n        let keys = Object.keys(info);\r\n        let ownerMap = new Map()\r\n  \r\n        keys.map((key) => {\r\n          let currentOwners = info[key].owners\r\n          for (var user in currentOwners) {\r\n            if (currentOwners[user].userID === this.state.user.uid) {\r\n              ownerMap.set(key, info[key])\r\n            }\r\n          }\r\n        })\r\n        this.setState((state) => {\r\n          state.usersMetrics = ownerMap;\r\n          return state;\r\n        })\r\n        // this.updateMetricAreas(ownerMap)\r\n      })      \r\n    // }\r\n  }\r\n\r\n  // Function for retrieving existing metrics\r\n  // Note: Separated this from renderMetricsList so that we can just\r\n  // pass in metricArea information to our components rather\r\n  // than retrieving everytime we need it.\r\n  // i.e - Retrieve once as opposed to retrieve multiple times.  \r\n  retrieveMetricsList = () => {\r\n    let rootPath = firebase.database().ref('metricAreas')\r\n\r\n    // Put all the metric areas in the this.state.metrics\r\n    rootPath.once('value', (snapshot) => {\r\n      let metricNameInfo = snapshot.val();\r\n      let databaseKeys = Object.keys(metricNameInfo);\r\n      let metricMap = new Map()\r\n\r\n      databaseKeys.map((key) => {\r\n        metricMap.set(key, metricNameInfo[key])\r\n      })\r\n      this.setState((state) => {\r\n        state.metrics = metricMap;\r\n        return state;\r\n      })\r\n    });\r\n  }\r\n\r\n  // Update current metric areas\r\n  updateMetricAreas(areas) {\r\n    this.setState((state) => {\r\n      state.usersMetrics = areas\r\n    })\r\n  }\r\n\r\n  // Function for retrieving metric calculations\r\n  // for a specific metric area.\r\n  retrieveMetricCalculations = () => {\r\n    let rootPath = firebase.database().ref('metricCalculations')\r\n\r\n    rootPath.once('value', (snapshot) => {\r\n      let metricCalcInfo = snapshot.val();\r\n      let databaseKeys = Object.keys(metricCalcInfo);\r\n      let owner = null\r\n      let mapCalculations = new Map()\r\n\r\n      databaseKeys.map((key) => {\r\n        let id = metricCalcInfo[key].metricAreaID\r\n        if (id == this.state.metricAreaID) {\r\n          owner = metricCalcInfo[key].owner\r\n          mapCalculations.set(key, metricCalcInfo[key])\r\n          return metricCalcInfo[key].metricCalculationID\r\n        }\r\n      })\r\n\r\n      // // Set the state to the new values that were obtained\r\n      // this.setCalculations(owner, mapCalculations, metricAreaCalculationIDs)\r\n    });\r\n  }\r\n\r\n  retrieveAllCalculations = () => {\r\n    let rootPath = firebase.database().ref('metricCalculations')\r\n    rootPath.once('value', (snapshot) => {\r\n      let info = snapshot.val();\r\n        if (info) {\r\n          let keys = Object.keys(info);\r\n          let calcMap = new Map()\r\n    \r\n          keys.map((key) => {\r\n            calcMap.set(key, info[key])\r\n          })\r\n    \r\n          this.setState((state) => {\r\n            state.calcMap = calcMap\r\n            return state\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // Retrieves a list of all current users\r\n  // in SightLife\r\n  retrieveCurrentUsers() {\r\n    let rootPath = firebase.database().ref('users')\r\n    rootPath.once('value', (snapshot) => {\r\n      let info = snapshot.val();\r\n      if (info) {\r\n        let keys = Object.keys(info)\r\n        let usersMap = new Map()\r\n  \r\n        keys.map((key) => {\r\n          usersMap.set(key, info[key])\r\n        })\r\n        // console.log(usersMap)\r\n        this.setState((state) => {\r\n          state.users = usersMap\r\n          return state\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  changeSignInStatus = () => {\r\n    this.setState((state) => {\r\n      state.signInStatus = true\r\n      return state\r\n    })\r\n  }\r\n\r\n  disableSignInStatus = () => {\r\n    this.setState((state) => {\r\n      state.signInStatus = true\r\n      return state\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    let content = null\r\n    let verify = null\r\n    // If user is not logged in and user is not verified\r\n    if (!this.state.user || (this.state.user && !this.state.verified)) {\r\n      content = (\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <About\r\n                {...this.state}\r\n                changeSignInStatus={this.changeSignInStatus}\r\n              />} />\r\n              <Route path=\"/signIn\" render={() => <SignIn\r\n                changeSignInStatus={this.changeSignInStatus}\r\n                handleSignIn={this.handleSignIn}\r\n              />} />\r\n              <Route path=\"/createaccount\" render={() => <CreateAccount\r\n              disableSignInStatus={this.disableSignInStatus}\r\n                handleSignUp={this.handleSignUp}\r\n              />}\r\n              />\r\n              <Route path=\"/forgotpassword\" render={() => <ForgotPassword\r\n                handleForgotPassword={this.handleForgotPassword}/>}\r\n                />\r\n            </Switch>\r\n\r\n      )\r\n    } else if (this.state.user && !this.state.verified) {\r\n      verify = (\r\n        <p>\r\n          Account is not verified!\r\n        </p>\r\n      )\r\n    } else {\r\n      content = (\r\n        <div>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={About} />\r\n              <Route\r\n                path=\"/metrics\"\r\n                render={() => <Metrics\r\n                  metrics={this.state.metrics}\r\n                  metricAreaElements={this.metricAreaElements}\r\n                />}\r\n              />\r\n              <Route \r\n                path=\"/visualizations\"\r\n                  render={() => <Visualizations\r\n                    metrics={this.state.metrics}\r\n                    metricAreaElements={this.metricAreaElements}\r\n                  />}\r\n                  >\r\n              </Route>\r\n              <Route\r\n                exact path=\"/dataEntry\"\r\n                render={() => <DataEntry\r\n                  {...this.state}\r\n                  user={this.state.user}\r\n                  usersMetrics={this.state.usersMetrics}\r\n                  retMetricCalculations={this.retrieveMetricCalculations}\r\n                />}\r\n              />\r\n              <Route path=\"/faq\" component={FAQ} />\r\n              <Route\r\n                path='/adminpanel'\r\n                render={() => <AdminPanelUserPermissions\r\n                  metrics={this.state.metrics}\r\n                  users={this.state.users} />\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/adminpanelmetriccalcs\"\r\n                render={() => <AdminPanelMetricCalcs\r\n                  metrics={this.state.metrics}\r\n                />}\r\n              />\r\n              <Route\r\n                path=\"/admindataentry\"\r\n                render={() => <AdminDataEntry\r\n                  retrieveAllCalculations={this.retrieveAllCalculations}\r\n                  calcMap={this.state.calcMap}\r\n                  metrics={this.state.metrics}\r\n                  retrieveMetricsList={this.retrieveMetricsList}\r\n                  />}\r\n              />\r\n              {/* <Route path=\"/AdminSettings\" component={AdminSettings} /> */}\r\n              <Route path=\"/adminsettings\"\r\n                render={() => <AdminSettings\r\n                  users={this.state.users}\r\n                  metrics={this.state.metrics} />}\r\n              />\r\n              <Route\r\n                path=\"/adminpanelmetrics\"\r\n                render={() => <AdminPanelMetrics\r\n                  retrieveMetricsList={this.retrieveMetricsList}\r\n                  users={this.state.users}\r\n                  metrics={this.state.metrics}\r\n                />}\r\n              />\r\n              <Redirect to=\"/\" />\r\n            </Switch>\r\n          </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n          <header>\r\n            <nav id=\"nav-bar\">\r\n              <NavBar \r\n              {...this.state}\r\n              changeSignInStatus={this.changeSignInStatus}\r\n              signOut={this.handleSignOut} />\r\n            </nav>\r\n          </header>\r\n        <main>\r\n        {content}\r\n        {verify}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class NavBar extends Component {\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n  }\r\n\r\n  render() {\r\n\r\n    let content = null\r\n\r\n    if (!this.props.user || (this.props.user && !this.props.verified)) {\r\n      if (this.props.signInStatus) {\r\n        content = (\r\n          <div></div>\r\n        )\r\n      } else {\r\n        content = (\r\n          <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\r\n          <li className=\"nav-item\">\r\n            <NavLink to='/signIn' \r\n            onClick={() => this.props.changeSignInStatus()}\r\n            className=\"nav-link\">Sign In</NavLink>\r\n          </li>\r\n        </ul>\r\n        )\r\n      }\r\n    } else {\r\n\r\n      content = (\r\n        <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\r\n        <li className=\"nav-item\">\r\n          <NavLink to='/about' className=\"nav-link\" activeClassName=\"selected\" activeStyle={{ fontWeight: \"bold\", color: \"#9991C6\" }}>About</NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <NavLink to='/metrics' className=\"nav-link\" activeClassName=\"selected\" activeStyle={{ fontWeight: \"bold\", color: \"#9991C6\" }}>Metrics</NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <NavLink to='/visualizations' className=\"nav-link\" activeClassName=\"selected\" activeStyle={{fontWeight:\"bold\", color: \"#9991C6\"}}>Visualizations</NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <NavLink to='/dataentry' className=\"nav-link\" activeClassName=\"selected\" activeStyle={{ fontWeight: \"bold\", color: \"#9991C6\" }}>Data Entry</NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <NavLink to='/fAQ' className=\"nav-link\" activeClassName=\"selected\" activeStyle={{ fontWeight: \"bold\", color: \"#9991C6\" }}>FAQ</NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className=\"dropdown\" id=\"myForm\">\r\n            <img className=\"profile\" src={Profile} />\r\n            <div className=\"dropdown-content\" id=\"sign\">\r\n              {/* <image class='prof-pic'>User's Profile Picture</image> */}              \r\n              <div className=\"btn2\">\r\n              <button type=\"submit\" className=\"btn2\">\r\n                <NavLink to='/metrics' className=\"nav-link\"> DashBoard </NavLink>\r\n              </button>\r\n              </div>    \r\n              \r\n              <div className=\"btn2\">\r\n              <button type=\"submit\" className=\"btn2\">\r\n                <NavLink to='/adminpanel' className=\"nav-link\">Admin Panel</NavLink>\r\n              </button>\r\n              </div>\r\n\r\n              <div className=\"btn2\">\r\n              <button id=\"signOutButton\" className=\"btn2\"\r\n                onClick={() => this.props.signOut()}>\r\n                Sign Out\r\n              </button>\r\n              </div>    \r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"navbar navbar-expand-lg navbar-light\">\r\n        <a className=\"navbar-brand\" href=\"/\">\r\n          <img src={SightLife} alt=\"SightLife logo\" />\r\n        </a>\r\n\r\n        <button className=\"navbar-toggler\" value=\"Show and Hide Navigation Bar\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo02\"\r\n          aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n          {content}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/index.css';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport App from './App';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// Initialize Firebase\r\nlet config = {\r\n    apiKey: \"AIzaSyAWZpraA6KLis5zEubhQEptJ_yHSgYkb_k\",\r\n    authDomain: \"internationaloperations-62804.firebaseapp.com\",\r\n    databaseURL: \"https://internationaloperations-62804.firebaseio.com\",\r\n    projectId: \"internationaloperations-62804\",\r\n    storageBucket: \"internationaloperations-62804.appspot.com\",\r\n    messagingSenderId: \"971709401041\",\r\n    appId: \"1:971709401041:web:1dd1e0b0a913e830b9c2f0\",\r\n    measurementId: \"G-WTXYLR560M\"\r\n  };\r\nfirebase.initializeApp(config);\r\n\r\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/shruti.1f9d6296.png\";","module.exports = __webpack_public_path__ + \"static/media/alex.5b6cafaf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nathan.725ef145.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rani.fbc96678.jpg\";","module.exports = __webpack_public_path__ + \"static/media/development.b5edeee8.png\";","module.exports = __webpack_public_path__ + \"static/media/policy.2e855e88.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/training.cb3a8202.png\";","module.exports = __webpack_public_path__ + \"static/media/FAQ1.edf710cf.png\";","module.exports = __webpack_public_path__ + \"static/media/FAQ2.44062380.png\";","module.exports = __webpack_public_path__ + \"static/media/more.497264f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.2d51b5b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/tick.cc7a48c6.svg\";","module.exports = __webpack_public_path__ + \"static/media/metrics.62aadad0.svg\";","module.exports = __webpack_public_path__ + \"static/media/calculations.4f523f56.svg\";","module.exports = __webpack_public_path__ + \"static/media/data-collection.469df034.svg\";","module.exports = __webpack_public_path__ + \"static/media/team.46b613d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.c7c83d36.svg\";","module.exports = __webpack_public_path__ + \"static/media/sightlife.e3d1f3c1.png\";","module.exports = __webpack_public_path__ + \"static/media/profile2.000b6bad.png\";"],"sourceRoot":""}